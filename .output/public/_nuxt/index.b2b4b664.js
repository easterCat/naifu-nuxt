import{_ as e}from"./AppHeader.c1cb1f85.js";import a from"./AppBanner.e6e26112.js";import t from"./index.73f99d39.js";import l from"./TemplateDetail.c8cdb028.js";import{_ as s}from"./AppAnimate.vue_vue_type_script_setup_true_lang.cfb15b5e.js";import{u as n}from"./index.ab114e08.js";import{I as o,r as u,a$ as p,x as r,J as i,K as c,a2 as d,a0 as v,_ as m,u as _,Z as b,aZ as g}from"./entry.867af431.js";import{l as f}from"./lodash.ea4d81e6.js";import"./shop.e35e1083.js";import"./element-plus.bb8e70a3.js";import"./plus.4333bf2a.js";import"./vuedraggable.888f871d.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.4fd931d8.js";/* empty css                                                                  *//* empty css                                                                  */import"./copy-document.961de030.js";const j={class:"home-page page"},x={class:"content"},y={class:"banner-con"},h={class:"control-blur-btns"},T=g(o({__name:"index",setup(o){const{TemplateApi:g}=n(),T=u(!0),{$store:I}=p(),A=u(!1),S=u(null),w=u(!1),k=u(1),z=u(50),C=u(""),F=u(""),M=u([]),V=e=>{S.value={...e},A.value=!0},B=f.exports.debounce((async e=>{if(e===F.value)return;M.value=[],F.value=e,w.value=!0;const a=await g.getTemplates({pageIndex:k.value,pageSize:z.value,searchTag:F.value});w.value=!1,M.value=(null==a?void 0:a.templates)&&0!==(null==a?void 0:a.templates.length)?null==a?void 0:a.templates:[]}),1200),Z=async e=>{(await g.likeTemplateById({id:e})).like&&console.log(" 喜爱成功:>> ")},$=async e=>{if(w.value)return;w.value=!0;const a=await g.getTemplates({pageIndex:e.pageIndex,pageSize:e.pageSize,searchTag:F.value});w.value=!1;const t=(null==a?void 0:a.templates)?null==a?void 0:a.templates:[];M.value=M.value.concat([...t])};return r((()=>{C.value=I.get("ip"),(async()=>{g.setIp();const e=Math.ceil(80*Math.random()),a=await g.getTemplates({pageIndex:e||1,pageSize:50});M.value=(null==a?void 0:a.templates)?null==a?void 0:a.templates:[]})()})),(n,o)=>{const u=e,p=a,r=t,g=l,f=s;return i(),c("div",j,[d(u),d(f,null,{default:v((()=>[m("div",x,[m("div",y,[d(p,{placeholder:"请输入关键标签",onSearchChange:_(B)},null,8,["onSearchChange"])]),m("div",h,[m("button",{class:b(["btn btn-sm m-r-10",[T.value?"btn-accent":"btn-secondary"]]),onClick:o[0]||(o[0]=()=>T.value=!0)}," 模糊 ",2),m("button",{class:b(["btn btn-sm",[T.value?"btn-secondary":"btn-accent"]]),onClick:o[1]||(o[1]=()=>T.value=!1)}," 原图 ",2)]),d(r,{datas:M.value,flur:T.value,loading:w.value,"search-text":F.value,onLoad:$,onPreview:V,onFavorite:Z},null,8,["datas","flur","loading","search-text"])]),d(g,{modelValue:A.value,"onUpdate:modelValue":o[2]||(o[2]=e=>A.value=e),"current-template":S.value},null,8,["modelValue","current-template"])])),_:1})])}}}),[["__scopeId","data-v-84ac1a29"]]);export{T as default};
