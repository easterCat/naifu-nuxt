import l from"./AppFooter.fdb2017f.js";import{u as e,a}from"./index.3eac53c1.js";import{I as s,aS as t,r as n,J as u,K as o,_ as i,u as c,V as p,aE as d,C as r,X as m,a2 as b,aX as v,aY as f,aZ as g}from"./entry.7629be39.js";import{c as h}from"./element-plus.bf29918d.js";/* empty css                                                                  */import"./lodash.ea4d81e6.js";const w=l=>(v("data-v-e01a5967"),l=l(),f(),l),y={class:"login-page page bg-base-100"},x={class:"content"},k=w((()=>i("img",{src:"https://image.lexica.art/md/07c55f51-4c5f-4c6b-a06f-aebe364958f5",alt:""},null,-1))),_={class:"outer-con"},C={class:"inner-con"},U={key:0,class:"login-con"},V={class:"w-full form-control"},j={class:"item-1"},A=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"用户名")],-1))),I={class:"item-2"},q=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"密码")],-1))),F={class:"item-3"},X=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"昵称")],-1))),E={class:"item-4"},J=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"邮箱")],-1))),K={key:1,class:"register-con"},S={class:"w-full form-control"},T={class:"item-1"},Y=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"用户名 (必填)")],-1))),Z={class:"item-2"},z=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"密码 (必填)")],-1))),B={class:"item-3"},D=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"昵称")],-1))),G={class:"item-4"},H=w((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"邮箱")],-1))),L=g(s({__name:"index",setup(s){const{AuthApi:v}=e(),f=t(),g=a(),w=n("login"),L=n("liudehua001"),M=n("123456"),N=n("liudehua001@qq.com"),O=n("刘德华001"),P=l=>{w.value=l},Q=async()=>{const l=await v.register({username:L.value,password:M.value,email:N.value,nickname:O.value}),{code:e,data:a,msg:s}=l;return 200===e&&a?(w.value="login",h({type:"success",message:"注册成功!欢迎您,"+a.register.username,showClose:!0})):h({type:"warning",message:s,showClose:!0})},R=async()=>{const l=await v.login({username:L.value,password:M.value,email:N.value,nickname:O.value}),{code:e,data:a,msg:s}=l;return g.setUserInfo(null==a?void 0:a.user),g.setToken(null==a?void 0:a.access_token,null==a?void 0:a.refresh_token),200===e&&a?(f.push({path:"/pc/home"}),h({type:"success",message:"登录成功!欢迎您",showClose:!0})):h({type:"warning",message:s,showClose:!0})};return(e,a)=>{const s=l;return u(),o("div",y,[i("div",x,[k,i("div",_,[i("div",C,["login"===c(w)?(u(),o("div",U,[i("div",V,[i("div",j,[A,p(i("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>r(L)?L.value=l:null),type:"text",placeholder:"请输入用户名",class:"w-full input input-bordered"},null,512),[[d,c(L)]])]),i("div",I,[q,p(i("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>r(M)?M.value=l:null),type:"text",placeholder:"请输入密码",class:"w-full input input-bordered"},null,512),[[d,c(M)]])]),i("div",F,[X,p(i("input",{"onUpdate:modelValue":a[2]||(a[2]=l=>r(O)?O.value=l:null),type:"text",placeholder:"请输入昵称",class:"w-full input input-bordered"},null,512),[[d,c(O)]])]),i("div",E,[J,p(i("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>r(N)?N.value=l:null),type:"text",placeholder:"请输入昵称",class:"w-full input input-bordered"},null,512),[[d,c(N)]])])]),i("div",{class:"item-5"},[i("button",{class:"btn btn-block",onClick:R},"登录")]),i("a",{class:"link link-primary",onClick:a[4]||(a[4]=l=>P("register"))}," 没有账号,去注册 ")])):m("",!0),"register"===c(w)?(u(),o("div",K,[i("div",S,[i("div",T,[Y,p(i("input",{"onUpdate:modelValue":a[5]||(a[5]=l=>r(L)?L.value=l:null),type:"text",placeholder:"请输入用户名",class:"w-full input input-bordered"},null,512),[[d,c(L)]])]),i("div",Z,[z,p(i("input",{"onUpdate:modelValue":a[6]||(a[6]=l=>r(M)?M.value=l:null),type:"password",placeholder:"请输入密码",class:"w-full input input-bordered"},null,512),[[d,c(M)]])]),i("div",B,[D,p(i("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>r(O)?O.value=l:null),type:"text",placeholder:"请输入昵称,非必填",class:"w-full input input-bordered"},null,512),[[d,c(O)]])]),i("div",G,[H,p(i("input",{"onUpdate:modelValue":a[8]||(a[8]=l=>r(N)?N.value=l:null),type:"text",placeholder:"请输入邮箱,非必填",class:"w-full input input-bordered"},null,512),[[d,c(N)]])])]),i("div",{class:"item-5"},[i("button",{class:"btn btn-block",onClick:Q},"注册")]),i("a",{class:"link link-primary",onClick:a[9]||(a[9]=l=>P("login"))}," 已有账号,去登录 ")])):m("",!0)])])]),b(s)])}}}),[["__scopeId","data-v-e01a5967"]]);export{L as default};
