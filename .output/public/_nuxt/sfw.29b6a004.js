import{_ as e}from"./AppHeader.173021d7.js";import a from"./AppBanner.f295840c.js";import{_ as l}from"./AppAnimate.vue_vue_type_script_setup_true_lang.eec04da4.js";import{I as t,a$ as s,r as n,o as u,x as o,J as c,K as i,a2 as r,_ as p,a0 as d,u as v,Y as b,aC as m,X as _,Z as f,a4 as y,C as g,$ as j,b5 as k,aZ as C}from"./entry.7629be39.js";import x from"./TemplateDetail.7f03d9f8.js";import{u as h}from"./index.3eac53c1.js";import{I as A,s as w,t as I}from"./element-plus.bf29918d.js";import"./shop.55f105a8.js";import"./plus.fce3a396.js";import"./vuedraggable.12f20fb9.js";import"./lodash.ea4d81e6.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.c67f782d.js";/* empty css                                                                  *//* empty css                                                                  */import"./copy-document.332402ee.js";const M={class:"template-page page"},T={class:"content"},V={class:"banner-con"},z={class:"control-blur-btns"},F={key:0,class:"shadow-xl card card-compact bg-base-100"},Z={class:"card-body"},$={class:"card-title"},B={class:"justify-end card-actions"},D=["onClick"],H={class:"demo-pagination-block"},J={key:0,class:"btn-group"},K=["onClick"],S={key:0,class:"btn"},U=C(t({__name:"sfw",setup(t){s().vueApp.provide(A,{prefix:Math.floor(1e3*Math.random()),current:0});const C=n(!0),U=n(!1),X=n(1),Y=n(36),q=n(0),E=n(0),G=n(!1),L=n([]),N=n(null),O=u((()=>Array.from({length:q.value},((e,a)=>a)).slice(X.value>3?X.value-3:X.value,X.value+3))),P=async()=>{if(U.value)return;U.value=!0;const{TemplateApi:e}=h(),a=await e.getTemplates({pageIndex:X.value,pageSize:Y.value});U.value=!1,L.value=null==a?void 0:a.templates,E.value=a.total,q.value=Math.ceil(E.value/Y.value)};o((()=>{P()}));const Q=e=>{X.value=e,P()},R=()=>{X.value<=1||(X.value=X.value-1,P())},W=()=>{X.value=1,P()},ee=()=>{X.value=q.value,P()},ae=()=>{X.value>=q.value||(X.value=X.value+1,P())};return(t,s)=>{const n=e,u=a,o=l,h=k,A=w,U=I,Y=x;return c(),i("div",M,[r(n),p("div",T,[p("div",V,[r(u,{placeholder:"请输入关键标签"})]),r(o,null,{default:d((()=>[p("div",z,[p("button",{class:f(["btn btn-sm m-r-10",[v(C)?"btn-accent":"btn-secondary"]]),onClick:s[0]||(s[0]=()=>C.value=!0)}," 模糊 ",2),p("button",{class:f(["btn btn-sm",[v(C)?"btn-secondary":"btn-accent"]]),onClick:s[1]||(s[1]=()=>C.value=!1)}," 原图 ",2)])])),_:1}),r(U,{class:"list-con",gutter:20},{default:d((()=>[(c(!0),i(b,null,m(v(L),((e,a)=>(c(),j(A,{key:a,xs:24,sm:12,md:6,lg:4,xl:4},{default:d((()=>[r(o,null,{default:d((()=>[e?(c(),i("div",F,[p("figure",null,[r(h,{class:f(["image",{"image-blur":!!v(C)}]),src:null==e?void 0:e.minify_preview,loading:"lazy"},null,8,["src","class"])]),p("div",Z,[p("h2",$,y(null==e?void 0:e.name),1),p("p",null,y(null==e?void 0:e.author),1),p("div",B,[p("button",{class:"btn btn-primary btn-sm",onClick:a=>(e=>{N.value={...e},G.value=!0})(e)}," 模板详情 ",8,D)])])])):_("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),p("div",H,[v(q)&&v(q)>0?(c(),i("div",J,[p("button",{class:"btn btn-outline",onClick:W},"首页"),p("button",{class:"btn btn-outline",onClick:R},"上一页"),(c(!0),i(b,null,m(v(O),((e,a)=>(c(),i("button",{key:a,class:f(["btn",{"btn-active":e===v(X)}]),onClick:a=>Q(e)},y(e),11,K)))),128)),v(X)<v(q)-3?(c(),i("button",S,"...")):_("",!0),p("button",{class:f(["btn",{"btn-active":v(q)===v(X)}]),onClick:s[2]||(s[2]=e=>Q(v(q)))},y(v(q)),3),p("button",{class:"btn btn-outline",onClick:ae},"下一页"),p("button",{class:"btn btn-outline",onClick:ee},"尾页")])):_("",!0)])]),r(Y,{modelValue:v(G),"onUpdate:modelValue":s[3]||(s[3]=e=>g(G)?G.value=e:null),"current-template":v(N)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-0c3ad140"]]);export{U as default};
