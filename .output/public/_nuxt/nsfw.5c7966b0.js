import{_ as e}from"./AppHeader.173021d7.js";import a from"./AppBanner.f295840c.js";import{I as l,a$ as t,r as s,o as n,x as o,J as u,K as c,a2 as i,_ as r,Z as p,u as v,a0 as d,Y as b,aC as m,X as _,a4 as f,C as y,$ as g,b5 as j,aZ as k}from"./entry.7629be39.js";import{_ as C}from"./AppAnimate.vue_vue_type_script_setup_true_lang.eec04da4.js";import x from"./TemplateDetail.7f03d9f8.js";import{u as h}from"./index.3eac53c1.js";import{I as A,s as w,t as I}from"./element-plus.bf29918d.js";import"./shop.55f105a8.js";import"./plus.fce3a396.js";import"./vuedraggable.12f20fb9.js";import"./lodash.ea4d81e6.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.c67f782d.js";/* empty css                                                                  *//* empty css                                                                  */import"./copy-document.332402ee.js";const M={class:"template-page page"},T={class:"content"},V={class:"banner-con"},z={class:"control-blur-btns"},F={key:0,class:"shadow-xl card card-compact bg-base-100"},Z={class:"card-body"},$={class:"card-title"},B={class:"justify-end card-actions"},D=["onClick"],H={class:"demo-pagination-block"},J={key:0,class:"btn-group"},K=["onClick"],N={key:0,class:"btn"},S=k(l({__name:"nsfw",setup(l){t().vueApp.provide(A,{prefix:Math.floor(1e3*Math.random()),current:0});const k=s(!0),S=s(!1),U=s(1),X=s(36),Y=s(0),q=s(0),E=s(!1),G=s([]),L=s(null),O=n((()=>Array.from({length:Y.value},((e,a)=>a)).slice(U.value>3?U.value-3:U.value,U.value+3))),P=async()=>{if(S.value)return;S.value=!0;const{TemplateApi:e}=h(),a=await e.getTemplatesNoval({pageIndex:U.value,pageSize:X.value});S.value=!1,G.value=null==a?void 0:a.templates,q.value=a.total,Y.value=Math.ceil(q.value/X.value)};o((()=>{P()}));const Q=e=>{U.value=e,P()},R=()=>{U.value<=1||(U.value=U.value-1,P())},W=()=>{U.value=1,P()},ee=()=>{U.value=Y.value,P()},ae=()=>{U.value>=Y.value||(U.value=U.value+1,P())};return(l,t)=>{const s=e,n=a,o=j,h=C,A=w,S=I,X=x;return u(),c("div",M,[i(s),r("div",T,[r("div",V,[i(n,{placeholder:"请输入关键标签"})]),r("div",z,[r("button",{class:p(["btn btn-sm m-r-10",[v(k)?"btn-accent":"btn-secondary"]]),onClick:t[0]||(t[0]=()=>k.value=!0)}," 模糊 ",2),r("button",{class:p(["btn btn-sm",[v(k)?"btn-secondary":"btn-accent"]]),onClick:t[1]||(t[1]=()=>k.value=!1)}," 原图 ",2)]),i(S,{class:"list-con",gutter:20},{default:d((()=>[(u(!0),c(b,null,m(v(G),((e,a)=>(u(),g(A,{key:a,xs:24,sm:12,md:6,lg:4,xl:4},{default:d((()=>[i(h,null,{default:d((()=>{var a;return[e?(u(),c("div",F,[r("figure",null,[i(o,{class:p(["image",{"image-blur":!!v(k)}]),src:null==e?void 0:e.minify_preview,loading:"lazy"},null,8,["src","class"])]),r("div",Z,[r("h2",$,f((null==(a=null==e?void 0:e.name)?void 0:a.length)>20?(null==e?void 0:e.name.slice(0,20))+"...":null==e?void 0:e.name),1),r("p",null,f(null==e?void 0:e.author),1),r("div",B,[r("button",{class:"btn btn-primary btn-sm",onClick:a=>(e=>{L.value={...e},E.value=!0})(e)}," 模板详情 ",8,D)])])])):_("",!0)]})),_:2},1024)])),_:2},1024)))),128))])),_:1}),r("div",H,[v(Y)&&v(Y)>0?(u(),c("div",J,[r("button",{class:"btn btn-outline",onClick:W},"首页"),r("button",{class:"btn btn-outline",onClick:R},"上一页"),(u(!0),c(b,null,m(v(O),((e,a)=>(u(),c("button",{key:a,class:p(["btn",{"btn-active":e===v(U)}]),onClick:a=>Q(e)},f(e),11,K)))),128)),v(U)<v(Y)-3?(u(),c("button",N,"...")):_("",!0),r("button",{class:p(["btn",{"btn-active":v(Y)===v(U)}]),onClick:t[2]||(t[2]=e=>Q(v(Y)))},f(v(Y)),3),r("button",{class:"btn btn-outline",onClick:ae},"下一页"),r("button",{class:"btn btn-outline",onClick:ee},"尾页")])):_("",!0)])]),i(X,{modelValue:v(E),"onUpdate:modelValue":t[3]||(t[3]=e=>y(E)?E.value=e:null),"current-template":v(L)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-70fa3914"]]);export{S as default};
