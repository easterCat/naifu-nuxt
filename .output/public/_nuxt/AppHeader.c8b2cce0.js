import{_ as e}from"./AppHeader.vue_vue_type_style_index_0_scoped_2a3485e7_lang.5db35127.js";import a from"./client-only.36cb5329.js";import l from"./ShopLayer.94388788.js";import{a as s,u as n}from"./index.131f7cc9.js";import{r as i,C as t}from"./pinia.17670579.js";import{G as o,H as r,Z as m,e as u,a as c,w as d,f as p,h as v,aa as h,J as f,Y as g,_ as w,L as b,a2 as k,a1 as _,T as y,u as C,W as j,a4 as V,a5 as H,a6 as z}from"./element-plus.fe53e503.js";import{a as x}from"./shop.d3010ead.js";import{_ as A,a as L,b as M,c as I,d as S,e as W}from"./04.e372062b.js";import{_ as B}from"./link.a5c7efa8.js";import{l as E}from"./lodash.cb875ed5.js";import{i as D,_ as F}from"./entry.d71b1392.js";import"./AnimationButton.b724bb94.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.c1c03cdc.js";import"./plus.c0ce5731.js";import"./close-bold.ada4cf83.js";import"./vuedraggable.03145536.js";import"./dayjs.3bf4ac2a.js";import"./sortablejs.91a11583.js";import"./uuid.d56aad75.js";import"./vue3-clipboard-es.62b9b053.js";import"./store.e5acb8cd.js";const U={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},T=[m("path",{fill:"currentColor",d:"M640 608h-64V416h64v192zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768h64zM384 608V416h64v192h-64zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32v160z"},null,-1),m("path",{fill:"currentColor",d:"m220.8 256l-71.232 80l71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192zm678.784 496l-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"},null,-1)];const $={name:"ep-guide",render:function(e,a){return o(),r("svg",U,T)}},G={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},N=[m("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1)];const J={name:"ep-files",render:function(e,a){return o(),r("svg",G,N)}},Y={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Z=[m("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128H256zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32z"},null,-1)];const q={name:"ep-collection-tag",render:function(e,a){return o(),r("svg",Y,Z)}},K={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},O=[m("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328L192 413.952zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576z"},null,-1)];const P={name:"ep-house",render:function(e,a){return o(),r("svg",K,O)}},Q=e=>(H("data-v-2a3485e7"),e=e(),z(),e),R={class:"fix-header header bg-base-30"},X={class:"header-con"},ee={class:"header-menu"},ae={class:"header-icon"},le={key:0,class:"my-menu"},se={key:0,class:"menu-item-select"},ne={class:"hover-con"},ie=[Q((()=>m("img",{src:M,alt:""},null,-1))),Q((()=>m("span",null,"常规标签",-1)))],te=[Q((()=>m("img",{src:I,alt:""},null,-1))),Q((()=>m("span",null,"词图标签",-1)))],oe=[Q((()=>m("img",{src:S,alt:""},null,-1))),Q((()=>m("span",null,"Gelbooru(H)",-1)))],re=[Q((()=>m("img",{src:W,alt:""},null,-1))),Q((()=>m("span",null,"EHentai(H)",-1)))],me={class:"user-info"},ue={class:"dropdown"},ce={tabindex:"0",class:"m-1"},de={key:0,class:"user-name"},pe={tabindex:"0",class:"p-2 shadow dropdown-content menu bg-base-100 rounded-box w-52"},ve=[Q((()=>m("a",null,"用户中心",-1)))],he={class:"user-util"},fe={key:0,class:"user-menu"},ge={key:0},we={key:1},be={class:"m-b-20"},ke={class:"user-name"},_e={class:"w-full p-2 menu"},ye=F(u({__name:"AppHeader",setup(u){var H;const z=s(),{AuthApi:M}=n(),I=i(),S=t(),W=c("large"),F=c(S.path),U=c(null!=(H=F.value)?H:"/home"),T=c(!1),G=c(!1),N=c(!1),Y=c(!1),{shopList:Z}=x();d(Z,(e=>{T.value=!!e.length}));const K=async()=>{if(!(null==z?void 0:z.username))return z.clearToken(),z.clearUserInfo(),I.push({path:"/mobile/login"});const e=await M.logout(),{code:a,msg:l}=e;return 200!==a&&20003!==a||!l?V.ElMessage({type:"warning",message:l,showClose:!0}):(z.clearToken(),z.clearUserInfo(),V.ElMessage({type:"success",message:"账号登出成功!ByeBye",showClose:!0}))},O=e=>S.path.includes(`mobile/${e}`),Q=()=>{console.log("object :>> ",N.value),N.value=!N.value},ye=()=>{Y.value=!0},Ce=()=>{Y.value=!1},je=e=>{I.push({path:`/mobile/${e}`}),U.value=`/mobile/${e}`},Ve=()=>{const e=null==window?void 0:window.innerWidth;W.value=e<1280&&e>750?"medium":e<750?"small":"large"},He=E.throttle(Ve,1200);return p((()=>{Ve(),window.addEventListener("resize",He)})),v((()=>{window.removeEventListener("resize",He)})),(s,n)=>{var i,t;const u=e,c=P,d=q,p=a,v=J,H=$,x=B,M=V.ElAvatar,S=A,E=L,F=V.ElDrawer,U=l,T=h("animate-css");return o(),r("header",R,[m("div",X,[m("div",ee,[m("div",ae,[f(u,{src:"https://image.lexica.art/md/9ce846a3-21f0-4f35-bf40-61d5c918860a"})]),"large"===W.value?(o(),r("div",le,[m("span",{class:g(["menu-item",{"item-active":O("home")}]),onClick:n[0]||(n[0]=e=>je("home"))},[f(c),w(" 首页 ")],2),m("span",{class:g(["menu-item",{"item-active":O("tags")}]),onMouseenter:ye,onMouseleave:Ce},[f(d),w(" 标签 "),f(y,{name:"slide"},{default:b((()=>[Y.value?(o(),r("div",se,[f(p,null,{default:b((()=>[m("div",ne,[k((o(),r("span",{onClick:n[1]||(n[1]=e=>je("tags"))},ie)),[[T,{direction:"modifySlideInDown"}]]),k((o(),r("span",{onClick:n[2]||(n[2]=e=>je("tags/chitu"))},te)),[[T,{direction:"modifySlideInDown",delay:60}]]),k((o(),r("span",{onClick:n[3]||(n[3]=e=>je("tags/gelbooru"))},oe)),[[T,{direction:"modifySlideInDown",delay:120}]]),k((o(),r("span",{onClick:n[4]||(n[4]=e=>je("tags/eh"))},re)),[[T,{direction:"modifySlideInDown",delay:180}]])])])),_:1})])):_("",!0)])),_:1})],34),m("span",{class:g(["menu-item",{"item-active":O("template/sfw")}]),onClick:n[5]||(n[5]=e=>je("template/sfw"))},[f(v),w(" SFW模版 ")],2),C(z).roleId&&"4"!==C(z).roleId?(o(),r("span",{key:0,class:g(["menu-item",{"item-active":O("template/nsfw")}]),onClick:n[6]||(n[6]=e=>je("template/nsfw"))},[f(v),w(" NSFW模版 ")],2)):_("",!0),m("span",{class:g(["menu-item",{"item-active":O("utils")}]),onClick:n[7]||(n[7]=e=>je("utils"))},[f(H),w(" 工具 ")],2),m("span",{class:g(["menu-item",{"item-active":O("links")}]),onClick:n[8]||(n[8]=e=>je("links"))},[f(x),w(" 收录 ")],2)])):_("",!0)]),m("div",me,[m("div",ue,[m("label",ce,["large"===W.value||"medium"===W.value?(o(),r("div",de,[f(M,{src:"https://image.lexica.art/md/26ef6676-a7e3-4560-8cb8-4355e017dc2b"}),m("span",null,j((null==(i=C(z))?void 0:i.username)||"Welcome!"),1)])):_("",!0)]),m("ul",pe,[m("li",{onClick:n[9]||(n[9]=e=>C(I).push({path:"/mobile/profile"}))},ve),m("li",{onClick:K},[m("a",null,j((null==(t=C(z))?void 0:t.username)?"账号登出":"账号登录"),1)])])]),m("div",he,[C(D)()?(o(),r("div",fe,[f(y,{name:"fade"},{default:b((()=>[m("span",{onClick:Q},[N.value?(o(),r("span",ge,[f(S)])):(o(),r("span",we,[f(E)]))])])),_:1})])):_("",!0)])])]),f(p,null,{default:b((()=>[f(F,{modelValue:N.value,"onUpdate:modelValue":n[16]||(n[16]=e=>N.value=e),title:"主题","with-header":!1,size:"75%"},{default:b((()=>{var e;return[m("div",be,[m("div",ke,[f(M,{src:"https://image.lexica.art/md/26ef6676-a7e3-4560-8cb8-4355e017dc2b"}),m("span",null,j((null==(e=C(z))?void 0:e.username)||"Welcome!"),1)])]),m("ul",_e,[m("li",{class:g(["rounded",{"item-active":O("home")}]),onClick:n[10]||(n[10]=e=>je("home"))},[m("a",null,[f(c),w(" 首页 ")])],2),m("li",{class:g(["rounded",{"item-active":O("tags")}]),onClick:n[11]||(n[11]=e=>je("home"))},[m("a",null,[f(d),w(" 标签 ")])],2),m("li",{class:g(["rounded",{"item-active":O("template/sfw")}]),onClick:n[12]||(n[12]=e=>je("template/sfw"))},[m("a",null,[f(v),w(" SFW模版 ")])],2),m("li",{class:g(["rounded",{"item-active":O("template/nsfw")}]),onClick:n[13]||(n[13]=e=>je("template/nsfw"))},[m("a",null,[f(v),w(" NSFW模版 ")])],2),m("li",{class:g(["rounded",{"item-active":O("utils")}]),onClick:n[14]||(n[14]=e=>je("utils"))},[m("a",null,[f(H),w(" 工具 ")])],2),m("li",{class:g(["rounded",{"item-active":O("links")}]),onClick:n[15]||(n[15]=e=>je("links"))},[m("a",null,[f(x),w(" 收录 ")])],2)])]})),_:1},8,["modelValue"])])),_:1}),f(U,{modelValue:G.value,"onUpdate:modelValue":n[17]||(n[17]=e=>G.value=e)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-2a3485e7"]]);export{ye as default};
