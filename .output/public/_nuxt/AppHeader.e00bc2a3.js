import{_ as e}from"./AppHeader.vue_vue_type_style_index_0_scoped_2a3485e7_lang.5db35127.js";import a from"./client-only.36cb5329.js";import s from"./ShopLayer.94388788.js";import{u as l}from"./AppHeader.vue_vue_type_style_index_0_scoped_e57bc06e_lang.35e4e247.js";import{a as n,u as t}from"./index.131f7cc9.js";import{r as i,C as o}from"./pinia.17670579.js";import{e as r,a as c,w as d,f as u,h as m,aa as p,G as v,H as _,Z as b,J as f,Y as y,u as g,a1 as h,L as k,a2 as w,T as j,W as x,$ as C,a0 as z,a4 as A,a5 as I,a6 as S}from"./element-plus.fe53e503.js";import{a as E}from"./shop.d3010ead.js";import{_ as H,a as L,b as D,c as V,d as M,e as T}from"./04.e372062b.js";import{l as U}from"./lodash.cb875ed5.js";import{i as W,_ as B}from"./entry.d71b1392.js";import F from"./Icon.fa57f76f.js";import"./dayjs.3bf4ac2a.js";import"./AnimationButton.b724bb94.js";import"./store.e5acb8cd.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.c1c03cdc.js";import"./plus.c0ce5731.js";import"./close-bold.ada4cf83.js";import"./vuedraggable.03145536.js";import"./sortablejs.91a11583.js";import"./uuid.d56aad75.js";import"./vue3-clipboard-es.62b9b053.js";/* empty css                                                              *//* empty css                                                                  *//* empty css                                                                       *//* empty css                                                                  *//* empty css                                                                  */import"./LinkList.vue_vue_type_style_index_0_scoped_ca6c464e_lang.c2f4371d.js";/* empty css                                                                */const $=e=>(I("data-v-e57bc06e"),e=e(),S(),e),q={class:"fix-header header bg-base-30"},G={class:"header-con"},J={class:"header-menu"},N={class:"header-icon"},Y={class:"my-menu"},Z={key:0},K={key:0},O={key:0,class:"menu-item-select"},P={class:"hover-con"},Q=[$((()=>b("img",{src:D,alt:""},null,-1))),$((()=>b("span",null,"常规标签",-1)))],R=[$((()=>b("img",{src:V,alt:""},null,-1))),$((()=>b("span",null,"词图标签",-1)))],X=[$((()=>b("img",{src:M,alt:""},null,-1))),$((()=>b("span",null,"Gelbooru(H)",-1)))],ee=[$((()=>b("img",{src:T,alt:""},null,-1))),$((()=>b("span",null,"EHentai(H)",-1)))],ae={key:0},se={key:0},le={key:0},ne={key:0},te={class:"user-info"},ie={class:"dropdown"},oe={tabindex:"0",class:"m-1"},re={key:0,class:"user-name"},ce={tabindex:"0",class:"p-2 shadow dropdown-content menu bg-base-100 rounded-box w-52"},de=[$((()=>b("a",null,"用户中心",-1)))],ue={class:"user-util"},me={key:0},pe={key:1},ve={key:2,class:"user-menu"},_e={key:0},be={key:1},fe=$((()=>b("div",{class:"m-b-20"},"daisyUI 主题",-1))),ye={class:"flex flex-wrap"},ge=["onClick"],he={class:"left"},ke=$((()=>b("div",{class:"right"},[b("span"),b("span"),b("span"),b("span")],-1))),we=B(r({__name:"AppHeader",setup(r){var I;const S=l(),D=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","Sunset"],V=n(),{AuthApi:M}=t(),T=i(),B=o(),$=c("large"),we=c(B.path),je=c(null!=(I=we.value)?I:"/home"),xe=c(!1),Ce=c(!1),ze=c(!1),Ae=c(!1),Ie=c(!1),{shopList:Se}=E();d(Se,(e=>{xe.value=!!e.length}));const Ee=async()=>{if(!(null==V?void 0:V.username))return V.clearToken(),V.clearUserInfo(),T.push({path:"/pc/login"});const e=await M.logout(),{code:a,msg:s}=e;return 200!==a&&20003!==a||!s?A.ElMessage({type:"warning",message:s,showClose:!0}):(V.clearToken(),V.clearUserInfo(),A.ElMessage({type:"success",message:"账号登出成功!ByeBye",showClose:!0}))},He=e=>B.path.includes(`pc/${e}`),Le=()=>{Ae.value=!0},De=()=>{Ae.value=!1},Ve=e=>{T.push({path:`/pc/${e}`}),je.value=`/pc/${e}`},Me=()=>{Ce.value=!0},Te=()=>{const e=null==window?void 0:window.innerWidth;$.value=e<1280&&e>750?"medium":e<750?"small":"large"},Ue=U.throttle(Te,1200);return u((()=>{Te(),window.addEventListener("resize",Ue)})),m((()=>{window.removeEventListener("resize",Ue)})),(l,n)=>{var t,i;const o=e,r=a,c=A.ElAvatar,d=H,u=L,m=A.ElDrawer,I=s,E=p("animate-css");return v(),_("header",q,[b("div",G,[b("div",J,[b("div",N,[f(o,{src:"https://image.lexica.art/md/9ce846a3-21f0-4f35-bf40-61d5c918860a"})]),b("div",Y,[b("span",{class:y(["menu-item",{"item-active":He("home")}]),onClick:n[0]||(n[0]=e=>Ve("home"))},[f(g(F),{name:"ant-design:home-filled",size:"22"}),"large"===$.value?(v(),_("span",Z,"首页")):h("",!0)],2),b("span",{class:y(["menu-item",{"item-active":He("tags")}]),onMouseenter:Le,onMouseleave:De},[f(g(F),{name:"ant-design:tag-filled",size:"22"}),"large"===$.value?(v(),_("span",K,"标签")):h("",!0),f(j,{name:"slide"},{default:k((()=>[Ae.value?(v(),_("div",O,[f(r,null,{default:k((()=>[b("div",P,[w((v(),_("span",{onClick:n[1]||(n[1]=e=>Ve("tags"))},Q)),[[E,{direction:"modifySlideInDown"}]]),w((v(),_("span",{onClick:n[2]||(n[2]=e=>Ve("tags/chitu"))},R)),[[E,{direction:"modifySlideInDown",delay:60}]]),w((v(),_("span",{onClick:n[3]||(n[3]=e=>Ve("tags/gelbooru"))},X)),[[E,{direction:"modifySlideInDown",delay:120}]]),w((v(),_("span",{onClick:n[4]||(n[4]=e=>Ve("tags/eh"))},ee)),[[E,{direction:"modifySlideInDown",delay:180}]])])])),_:1})])):h("",!0)])),_:1})],34),b("span",{class:y(["menu-item",{"item-active":He("template/sfw")}]),onClick:n[5]||(n[5]=e=>Ve("template/sfw"))},[f(g(F),{name:"heroicons-solid:template",size:"22"}),"large"===$.value?(v(),_("span",ae,"SFW模版")):h("",!0)],2),g(V).roleId&&"4"!==g(V).roleId?(v(),_("span",{key:0,class:y(["menu-item",{"item-active":He("template/nsfw")}]),onClick:n[6]||(n[6]=e=>Ve("template/nsfw"))},[f(g(F),{name:"material-symbols:18-up-rating",size:"22"}),"large"===$.value?(v(),_("span",se,"NSFW模版")):h("",!0)],2)):h("",!0),b("span",{class:y(["menu-item",{"item-active":He("utils")}]),onClick:n[7]||(n[7]=e=>Ve("utils"))},[f(g(F),{name:"icon-park-solid:tool",size:"20"}),"large"===$.value?(v(),_("span",le,"工具")):h("",!0)],2),b("span",{class:y(["menu-item",{"item-active":He("links")}]),onClick:n[8]||(n[8]=e=>Ve("links"))},[f(g(F),{name:"fluent:link-square-12-filled",size:"22"}),"large"===$.value?(v(),_("span",ne,"收录")):h("",!0)],2)])]),b("div",te,[b("div",ie,[b("label",oe,["large"===$.value||"medium"===$.value?(v(),_("div",re,[f(c,{src:"https://image.lexica.art/md/26ef6676-a7e3-4560-8cb8-4355e017dc2b"}),b("span",null,x((null==(t=g(V))?void 0:t.username)||"Welcome!"),1)])):h("",!0)]),b("ul",ce,[b("li",{onClick:n[9]||(n[9]=e=>g(T).push({path:"/pc/profile"}))},de),b("li",{onClick:Ee},[b("a",null,x((null==(i=g(V))?void 0:i.username)?"账号登出":"账号登录"),1)])])]),b("div",ue,[xe.value?(v(),_("div",pe,[b("button",{class:"hover-anime-btn btn btn-sm btn-primary btn-circle",onClick:Me},[f(g(F),{name:"clarity:shopping-cart-solid-badged",size:"16"})])])):(v(),_("div",me,[b("button",{class:"hover-anime-btn btn btn-sm btn-primary btn-circle",onClick:Me},[f(g(F),{name:"clarity:shopping-cart-solid",size:"16"})])])),b("div",null,[b("button",{class:"hover-anime-btn btn btn-sm btn-secondary btn-circle",onClick:n[10]||(n[10]=e=>Ve("design"))},[f(g(F),{name:"ant-design:sketch-outlined",size:"20"})])]),b("div",null,[b("button",{class:"hover-anime-btn btn btn-sm btn-accent btn-circle",onClick:n[11]||(n[11]=()=>Ie.value=!Ie.value)},[f(g(F),{name:"ant-design:skin-outlined",size:"16"})])]),g(W)()?(v(),_("div",ve,[f(j,{name:"fade"},{default:k((()=>[ze.value?(v(),_("span",_e,[f(d)])):(v(),_("span",be,[f(u)]))])),_:1})])):h("",!0)])])]),f(r,null,{default:k((()=>[f(m,{modelValue:Ie.value,"onUpdate:modelValue":n[12]||(n[12]=e=>Ie.value=e),title:"主题","with-header":!1,size:"50%"},{default:k((()=>[fe,b("ul",ye,[(v(),_(C,null,z(D,(e=>b("li",{key:e,class:"theme-select-btn",onClick:()=>g(S).preference=e},[b("div",he,x(e),1),ke],8,ge))),64))])])),_:1},8,["modelValue"])])),_:1}),f(I,{modelValue:Ce.value,"onUpdate:modelValue":n[13]||(n[13]=e=>Ce.value=e)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-e57bc06e"]]);export{we as default};
