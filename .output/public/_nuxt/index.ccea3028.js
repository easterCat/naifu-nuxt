var t=Object.defineProperty,e=(e,s,a)=>(((e,s,a)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a})(e,"symbol"!=typeof s?s+"":s,a),a);import{aU as s,aW as a,an as n,a_ as i}from"./entry.adfdc47f.js";const r=(t,e,n)=>{const i=s(),r=i.public.FLASK_BASE_API,o=i.public.API_DATA_FROM;let c="";return c="github"===o||"github"===n?t:r+t,new Promise((async(t,s)=>{try{const n=await $fetch(c,{...e,key:a.v4()});n?t(n):s(`${c} => 数据获取失败`)}catch(n){console.error("$fetch出现错误 => ",n),s(n)}}))};class o{constructor(){e(this,"get",((t,e,s)=>r(t,{method:"get",params:e},s))),e(this,"post",((t,e,s)=>r(t,{method:"post",body:e},s))),e(this,"put",((t,e,s)=>r(t,{method:"put",body:e},s))),e(this,"delete",((t,e,s)=>r(t,{method:"delete",body:e},s)))}}const c=new class extends o{getEhtags(){return this.get("https://raw.githubusercontent.com/scooderic/exhentai-tags-chinese-translation/master/dist/ehtags-cn.json",{},"github")}};const l=new class extends o{getNameSpaceList(){return this.get("https://ehtt.fly.dev/database",{},"github")}getListByNameSpace(){return this.get("https://raw.githubusercontent.com/EhTagTranslation/Database/master/database/female.md",{},"github")}getAllJsonData(){return this.get("https://raw.githubusercontent.com/EhTagTranslation/DatabaseReleases/master/db.full.json",{},"github")}};const h=new class extends o{getList(t){return this.get("https://lexica.art/api/v1/search",t)}};const u=new class extends o{getList(t){return this.post("https://api.cerfai.com/open/get_full_categories",t,"github")}getTagsById(t){return this.post("https://api.cerfai.com/open/get_tags_by_category",t,"github")}searchTags(t){return this.post("https://api.cerfai.com/search_tags",t,"github")}};const p=new class extends o{translate(t){return this.post("/translate",t)}};const g=new class extends o{getTags(){return this.get("https://raw.githubusercontent.com/easterCat/nuxt-utils-assets/main/json/tags.json",{},"github")}};const d=new class extends o{async getLinks(){const t=s().public.API_DATA_FROM;if("github"===t){const t="https://raw.githubusercontent.com/easterCat/nuxt-utils-assets/main/json/links.json",e=await this.get(t);return{links:JSON.parse(e),total:null}}if("database"===t){const t=await this.get("/get_links",{pageIndex:1,pageSize:1e3}),{data:e}=n(t);return{links:e.list,total:e.total}}}async addLink(t){return await this.post("/add_link",t)}async updateLink(t){return await this.post("/update_link",t)}async deleteLink(t){return await this.post("/delete_link",t)}};const b={EhtagsApi:c,EhttApi:l,LexicaApi:h,GelbooruApi:u,ShopApi:p,DefaultTagsApi:g,LinkApi:d,TemplateApi:new class extends o{async getTemplates(t){const e=s().public.API_DATA_FROM;if("github"===e){const t="https://raw.githubusercontent.com/easterCat/nuxt-utils-assets/main/json/templates.json",e=await this.get(t);return{templates:JSON.parse(e),total:null}}if("database"===e){const e="/get_templates",s=await this.get(e,t),{data:a}=n(s);return{templates:a.list,total:a.total}}}async getTemplatesChitu(t){const e=await this.get("/get_templates_chitu",t),{data:s}=n(e);return{templates:s.list,total:s.total}}async setIp(){const t=(await this.get("/set_ip")).data.ip,{$store:e}=i();return e.set("ip",t),{ip:t}}async likeTemplateById(t){const e=await this.post("/like_template_by_id",t),{data:s}=n(e);return{like:s.like}}}},m=()=>b;export{m as u};
