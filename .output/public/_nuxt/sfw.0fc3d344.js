import{_ as a,b as e}from"./AppHeader.a98b11ad.js";import{_ as l}from"./FixMenu.vue_vue_type_style_index_0_scoped_c1cb519f_lang.c5d3af51.js";import t from"./AppBanner.faab1ef2.js";import s from"./TemplateDetail.14d1b069.js";import{u as n}from"./pinia.7ac5f2a7.js";import{e as o,ac as u,a as c,d as i,f as r,F as d,G as p,H as b,I as v,W as m,u as f,Y as _,Z as y,_ as g,X as j,U as k,ae as x,i as h,a9 as C,a4 as w,L as A,$ as I}from"./element-plus.3e7898c2.js";import{u as M}from"./index.c0d6e22f.js";import{_ as T}from"./entry.cf5e7fb4.js";import"./plus.bb77e419.js";import"./shop.8f25176c.js";import"./vuedraggable.5801950c.js";import"./dayjs.3bf4ac2a.js";import"./sortablejs.c8011fea.js";import"./uuid.d56aad75.js";import"./lodash.93025024.js";/* empty css                                                                  *//* empty css                                                                  */import"./Icon.c7cf7b12.js";import"./store.e5acb8cd.js";import"./sYw7uX71Xe.38399cea.js";const U={class:"template-page page"},F={class:"content"},S={class:"banner-con"},V={class:"control-blur-btns"},X={key:0,class:"shadow-xl card card-compact bg-base-100"},z={class:"card-body"},E={class:"card-title"},H={class:"justify-end card-actions"},K=["onClick"],Y={class:"demo-pagination-block"},B={key:0,class:"btn-group"},D=["onClick"],G={key:0,class:"btn"},L=["value","onKeyup"],N=T(o({__name:"sfw",setup(o){n().vueApp.provide(u,{prefix:Math.floor(1e3*Math.random()),current:0});const T=c(!0),N=c(!1),R=c(1),W=c(36),Z=c(0),$=c(0),q=c(!1),J=c([]),O=c(null),P=i((()=>Array.from({length:Z.value},((a,e)=>e)).slice(R.value>3?R.value-3:R.value,R.value+3))),Q=async()=>{if(N.value)return;N.value=!0;const{TemplateApi:a}=M(),e=await a.getTemplates({pageIndex:R.value,pageSize:W.value});N.value=!1,J.value=null==e?void 0:e.templates,$.value=e.total,Z.value=Math.ceil($.value/W.value)};r((()=>{Q()}));const aa=a=>{R.value=a,Q()},ea=()=>{R.value<=1||(R.value=R.value-1,Q())},la=()=>{R.value=1,Q()},ta=()=>{R.value=Z.value,Q()},sa=a=>{aa(Number(a.target.value))},na=()=>{R.value>=Z.value||(R.value=R.value+1,Q())};return(n,o)=>{const u=a,c=l,i=t,r=e,M=I.ElCol,N=I.ElRow,W=s,$=C("animate-css");return d(),p("div",U,[b(c,null,{default:v((()=>[b(u)])),_:1}),m("div",F,[m("div",S,[b(i,{placeholder:"请输入关键标签"})]),b(c,null,{default:v((()=>[w((d(),p("div",V,[m("button",{class:j(["btn btn-sm m-r-10",[f(T)?"btn-accent":"btn-secondary-30"]]),onClick:o[0]||(o[0]=()=>T.value=!0)}," 模糊 ",2),m("button",{class:j(["btn btn-sm",[f(T)?"btn-secondary-30":"btn-accent"]]),onClick:o[1]||(o[1]=()=>T.value=!1)}," 原图 ",2)])),[[$,{direction:"modifySlideInUp"}]])])),_:1}),b(c,null,{default:v((()=>[f(J)&&f(J).length?(d(),A(N,{key:0,class:"list-con",gutter:20},{default:v((()=>[(d(!0),p(_,null,y(f(J),((a,e)=>w((d(),A(M,{key:e,xs:24,sm:12,md:6,lg:4,xl:4},{default:v((()=>[a?(d(),p("div",X,[m("figure",null,[b(r,{class:j(["image",{"image-blur":!!f(T)}]),src:null==a?void 0:a.minify_preview,loading:"lazy"},null,8,["src","class"])]),m("div",z,[m("h2",E,k(null==a?void 0:a.name),1),m("p",null,k(null==a?void 0:a.author),1),m("div",H,[m("button",{class:"btn btn-accent btn-sm",onClick:e=>(a=>{O.value={...a},q.value=!0})(a)}," 模板详情 ",8,K)])])])):g("",!0)])),_:2},1024)),[[$,{direction:"modifySlideInUp",delay:30*e}]]))),128))])),_:1})):g("",!0)])),_:1}),m("div",Y,[f(Z)&&f(Z)>0?(d(),p("div",B,[m("button",{class:"btn btn-outline",onClick:la},"首页"),m("button",{class:"btn btn-outline",onClick:ea},"上一页"),(d(!0),p(_,null,y(f(P),((a,e)=>(d(),p("button",{key:e,class:j(["btn",{"btn-active":a===f(R)}]),onClick:e=>aa(a)},k(a),11,D)))),128)),f(R)<f(Z)-3?(d(),p("button",G,"...")):g("",!0),m("button",{class:j(["btn",{"btn-active":f(Z)===f(R)}]),onClick:o[2]||(o[2]=a=>aa(f(Z)))},k(f(Z)),3),m("button",{class:"btn btn-outline",onClick:na},"下一页"),m("button",{class:"btn btn-outline",onClick:ta},"尾页"),m("input",{value:f(R),type:"text",placeholder:"go",class:"w-24 max-w-xs input input-bordered",onKeyup:x(sa,["enter"])},null,40,L)])):g("",!0)])]),b(W,{modelValue:f(q),"onUpdate:modelValue":o[3]||(o[3]=a=>h(q)?q.value=a:null),"current-template":f(O)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-2daf2ae3"]]);export{N as default};
