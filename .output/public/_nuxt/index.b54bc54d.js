import e from"./AppHeader.c8b2cce0.js";import a from"./client-only.36cb5329.js";import t from"./AppBanner.7071c886.js";import l from"./index.68421006.js";import s from"./TemplateDetail.ed3764e3.js";import{a as o,_ as n}from"./entry.d71b1392.js";import{u as p,a as u}from"./index.131f7cc9.js";import{u as i}from"./pinia.17670579.js";import{l as r}from"./lodash.cb875ed5.js";import{e as d,a as m,f as c,G as v,H as _,J as b,L as j,aa as f,a2 as g,Z as y,u as h,Y as x}from"./element-plus.fe53e503.js";import"./AppHeader.vue_vue_type_style_index_0_scoped_2a3485e7_lang.5db35127.js";import"./ShopLayer.94388788.js";import"./AnimationButton.b724bb94.js";import"./dayjs.3bf4ac2a.js";import"./store.e5acb8cd.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.c1c03cdc.js";import"./shop.d3010ead.js";import"./vue3-clipboard-es.62b9b053.js";import"./plus.c0ce5731.js";import"./close-bold.ada4cf83.js";import"./vuedraggable.03145536.js";import"./sortablejs.91a11583.js";import"./uuid.d56aad75.js";import"./04.e372062b.js";import"./link.a5c7efa8.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.2fe52f8d.js";import"./sYw7uX71Xe.38399cea.js";/* empty css                                                                  *//* empty css                                                              */import"./copy-document.12769081.js";/* empty css                                                                       */const A={class:"home-page page"},I={class:"content"},T={class:"banner-con"},S={class:"control-blur-btns"},w=n(d({__name:"index",setup(n){let d=null;const{TemplateApi:w}=p(),k=m(!0),{$store:z}=i(),B=m(!1),C=m(null),H=m(!1),L=m(1),V=m(50),D=m(""),M=m(""),U=m([]),X=e=>{C.value={...e},B.value=!0},Y=r.debounce((async e=>{if(e===M.value)return;U.value=[],M.value=e,H.value=!0;const a=await w.getTemplates({pageIndex:L.value,pageSize:V.value,searchTag:M.value});H.value=!1,U.value=(null==a?void 0:a.templates)&&0!==(null==a?void 0:a.templates.length)?null==a?void 0:a.templates:[]}),1200),F=async e=>{(await w.likeTemplateById({id:e,userId:null==d?void 0:d.userId})).like&&console.log(" 喜爱成功:>> ")},G=async e=>{if(H.value)return;H.value=!0;const a=await w.getTemplates({pageIndex:e.pageIndex,pageSize:e.pageSize,searchTag:M.value});H.value=!1;const t=(null==a?void 0:a.templates)?null==a?void 0:a.templates:[];U.value=U.value.concat([...t])};return c((()=>{d=u(),D.value=z.get("ip"),(async()=>{w.setIp();const e=Math.ceil(100*Math.random()),a=await w.getTemplates({pageIndex:e||1,pageSize:50});U.value=(null==a?void 0:a.templates)?null==a?void 0:a.templates:[]})()})),(n,p)=>{const u=e,i=a,r=t,d=l,m=s,c=o,w=f("animate-css");return v(),_("div",A,[b(c,{name:"mobile"},{default:j((()=>[b(i,null,{default:j((()=>[b(u)])),_:1}),b(i,null,{default:j((()=>[g((v(),_("div",I,[y("div",T,[b(r,{placeholder:"请输入关键标签",onSearchChange:h(Y)},null,8,["onSearchChange"])]),y("div",S,[y("button",{class:x(["btn btn-sm m-r-10",[k.value?"btn-accent":"btn-s-30"]]),onClick:p[0]||(p[0]=()=>k.value=!0)}," 模糊 ",2),y("button",{class:x(["btn btn-sm",[k.value?"btn-s-30":"btn-accent"]]),onClick:p[1]||(p[1]=()=>k.value=!1)}," 原图 ",2)]),b(d,{datas:U.value,flur:k.value,loading:H.value,"search-text":M.value,onLoad:G,onPreview:X,onFavorite:F},null,8,["datas","flur","loading","search-text"])])),[[w,{direction:"modifySlideInUp",delay:0}]])])),_:1}),b(m,{modelValue:B.value,"onUpdate:modelValue":p[2]||(p[2]=e=>B.value=e),"current-template":C.value},null,8,["modelValue","current-template"])])),_:1})])}}}),[["__scopeId","data-v-9024e971"]]);export{w as default};
