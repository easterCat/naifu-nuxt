import{_ as e}from"./AppHeader.173021d7.js";import a from"./AppBanner.f295840c.js";import t from"./index.887f59c9.js";import l from"./TemplateDetail.7f03d9f8.js";import{u as s}from"./index.3eac53c1.js";import{I as n,r as o,a$ as u,x as p,J as r,K as i,a2 as c,_ as d,u as v,Z as m,aZ as _}from"./entry.7629be39.js";import{l as g}from"./lodash.ea4d81e6.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.eec04da4.js";import"./shop.55f105a8.js";import"./element-plus.bf29918d.js";import"./plus.fce3a396.js";import"./vuedraggable.12f20fb9.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.c67f782d.js";/* empty css                                                                  *//* empty css                                                                  */import"./copy-document.332402ee.js";const f={class:"home-page page"},b={class:"content"},j={class:"banner-con"},x={class:"control-blur-btns"},y=_(n({__name:"index",setup(n){const{TemplateApi:_}=s(),y=o(!0),{$store:h}=u(),T=o(!1),I=o(null),A=o(!1),S=o(1),w=o(50),k=o(""),z=o(""),C=o([]),F=e=>{I.value={...e},T.value=!0},M=g.exports.debounce((async e=>{if(e===z.value)return;C.value=[],z.value=e,A.value=!0;const a=await _.getTemplates({pageIndex:S.value,pageSize:w.value,searchTag:z.value});A.value=!1,C.value=(null==a?void 0:a.templates)&&0!==(null==a?void 0:a.templates.length)?null==a?void 0:a.templates:[]}),1200),V=async e=>{(await _.likeTemplateById({id:e})).like&&console.log(" 喜爱成功:>> ")},B=async e=>{if(A.value)return;A.value=!0;const a=await _.getTemplates({pageIndex:e.pageIndex,pageSize:e.pageSize,searchTag:z.value});A.value=!1;const t=(null==a?void 0:a.templates)?null==a?void 0:a.templates:[];C.value=C.value.concat([...t])};return p((()=>{k.value=h.get("ip"),(async()=>{_.setIp();const e=Math.ceil(80*Math.random()),a=await _.getTemplates({pageIndex:e||1,pageSize:50});C.value=(null==a?void 0:a.templates)?null==a?void 0:a.templates:[]})()})),(s,n)=>{const o=e,u=a,p=t,_=l;return r(),i("div",f,[c(o),d("div",b,[d("div",j,[c(u,{placeholder:"请输入关键标签",onSearchChange:v(M)},null,8,["onSearchChange"])]),d("div",x,[d("button",{class:m(["btn btn-sm m-r-10",[y.value?"btn-accent":"btn-secondary"]]),onClick:n[0]||(n[0]=()=>y.value=!0)}," 模糊 ",2),d("button",{class:m(["btn btn-sm",[y.value?"btn-secondary":"btn-accent"]]),onClick:n[1]||(n[1]=()=>y.value=!1)}," 原图 ",2)]),c(p,{datas:C.value,flur:y.value,loading:A.value,"search-text":z.value,onLoad:B,onPreview:F,onFavorite:V},null,8,["datas","flur","loading","search-text"])]),c(_,{modelValue:T.value,"onUpdate:modelValue":n[2]||(n[2]=e=>T.value=e),"current-template":I.value},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-38c0fec8"]]);export{y as default};
