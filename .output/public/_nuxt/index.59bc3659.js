import e from"./AppFooter.cdfaa347.js";import{u as l,a}from"./index.131f7cc9.js";import{r as s}from"./pinia.17670579.js";import{e as t,a as n,G as o,H as c,Z as i,u,a2 as d,a3 as p,i as r,a1 as m,J as b,a4 as v,a5 as g,a6 as f}from"./element-plus.fe53e503.js";import{_ as w}from"./entry.0f1f4d34.js";/* empty css                                                                  */import"./store.e5acb8cd.js";import"./dayjs.3bf4ac2a.js";import"./lodash.cb875ed5.js";import"./uuid.d56aad75.js";const y=e=>(g("data-v-a9d88124"),e=e(),f(),e),h={class:"login-page page bg-base-100"},k={class:"content"},x={class:"outer-con"},_={class:"inner-con"},j={key:0,class:"login-con"},C={class:"w-full form-control"},U={class:"item-1"},V=y((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"用户名")],-1))),A={class:"item-2"},E=y((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"密码")],-1))),M={key:1,class:"register-con"},q={class:"w-full form-control"},F={class:"item-1"},I=y((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"用户名 (必填)")],-1))),G={class:"item-2"},H=y((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"密码 (必填)")],-1))),J={class:"item-3"},T=y((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"昵称")],-1))),Z={class:"item-4"},$=y((()=>i("label",{class:"label"},[i("span",{class:"label-text"},"邮箱")],-1))),z=w(t({__name:"index",setup(t){const{AuthApi:g}=l(),f=s(),w=a(),y=n("login"),z=n("admin"),B=n("123456"),D=n("admin@qq.com"),K=n("超级管理员"),L=e=>{y.value=e},N=async()=>{const e=await g.register({username:z.value,password:B.value,email:D.value,nickname:K.value}),{code:l,data:a,msg:s}=e;return 200===l&&a?(y.value="login",v.ElMessage({type:"success",message:`注册成功!欢迎您,${a.register.username}`,showClose:!0})):v.ElMessage({type:"warning",message:s,showClose:!0})},O=async()=>{const e=await g.login({username:z.value,password:B.value}),{code:l,data:a,msg:s}=e;return w.setUserInfo(null==a?void 0:a.user),w.setToken(null==a?void 0:a.access_token,null==a?void 0:a.refresh_token),200===l&&a?(f.push({path:"/pc/home"}),v.ElMessage({type:"success",message:"登录成功!欢迎您",showClose:!0})):v.ElMessage({type:"warning",message:s,showClose:!0})};return(l,a)=>{const s=e;return o(),c("div",h,[i("div",k,[i("div",x,[i("div",_,["login"===u(y)?(o(),c("div",j,[i("div",C,[i("div",U,[V,d(i("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r(z)?z.value=e:null),type:"text",placeholder:"请输入用户名",class:"w-full input input-bordered"},null,512),[[p,u(z)]])]),i("div",A,[E,d(i("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r(B)?B.value=e:null),type:"text",placeholder:"请输入密码",class:"w-full input input-bordered"},null,512),[[p,u(B)]])])]),i("div",{class:"item-5"},[i("button",{class:"btn btn-accent btn-block",onClick:O},"登录")]),i("a",{class:"link link-accent",onClick:a[2]||(a[2]=e=>L("register"))}," 没有账号,去注册 ")])):m("",!0),"register"===u(y)?(o(),c("div",M,[i("div",q,[i("div",F,[I,d(i("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>r(z)?z.value=e:null),type:"text",placeholder:"请输入用户名",class:"w-full input input-bordered"},null,512),[[p,u(z)]])]),i("div",G,[H,d(i("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>r(B)?B.value=e:null),type:"password",placeholder:"请输入密码",class:"w-full input input-bordered"},null,512),[[p,u(B)]])]),i("div",J,[T,d(i("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>r(K)?K.value=e:null),type:"text",placeholder:"请输入昵称,非必填",class:"w-full input input-bordered"},null,512),[[p,u(K)]])]),i("div",Z,[$,d(i("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>r(D)?D.value=e:null),type:"text",placeholder:"请输入邮箱,非必填",class:"w-full input input-bordered"},null,512),[[p,u(D)]])])]),i("div",{class:"item-5"},[i("button",{class:"btn btn-accent btn-block",onClick:N},"注册")]),i("a",{class:"link link-accent",onClick:a[7]||(a[7]=e=>L("login"))}," 已有账号,去登录 ")])):m("",!0)])])]),b(s)])}}}),[["__scopeId","data-v-a9d88124"]]);export{z as default};
