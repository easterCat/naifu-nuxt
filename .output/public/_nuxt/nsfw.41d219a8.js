import{_ as a}from"./AppHeader.3d47a155.js";import e from"./AppBanner.f4afa58d.js";import{I as l,a$ as t,r as s,o as n,x as o,J as u,K as c,a2 as i,_ as r,Z as d,u as p,a0 as v,Y as b,aC as m,X as _,a4 as f,C as y,$ as g,b5 as j,aZ as k}from"./entry.03a65306.js";import{_ as C}from"./AppAnimate.vue_vue_type_script_setup_true_lang.e94496e0.js";import x from"./TemplateDetail.a070fcae.js";import{u as h}from"./index.479e5edd.js";import{I as A,s as w,t as I}from"./element-plus.88eee266.js";import"./shop.40ca515e.js";import"./plus.4f0423c2.js";import"./vuedraggable.d0f2dc6b.js";import"./lodash.ea4d81e6.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.b88f09ad.js";/* empty css                                                                  *//* empty css                                                                  */import"./copy-document.8bb08519.js";const M={class:"template-page page"},T={class:"content"},V={class:"banner-con"},z={class:"control-blur-btns"},F={key:0,class:"shadow-xl card card-compact bg-base-100"},Z={class:"card-body"},$={class:"card-title"},B={class:"justify-end card-actions"},D=["onClick"],H={class:"demo-pagination-block"},J={key:0,class:"btn-group"},K=["onClick"],N={key:0,class:"btn"},S=k(l({__name:"nsfw",setup(l){t().vueApp.provide(A,{prefix:Math.floor(1e3*Math.random()),current:0});const k=s(!0),S=s(!1),U=s(1),X=s(36),Y=s(0),q=s(0),E=s(!1),G=s([]),L=s(null),O=n((()=>Array.from({length:Y.value},((a,e)=>e)).slice(U.value>3?U.value-3:U.value,U.value+3))),P=async()=>{if(S.value)return;S.value=!0;const{TemplateApi:a}=h(),e=await a.getTemplatesNoval({pageIndex:U.value,pageSize:X.value});S.value=!1,G.value=null==e?void 0:e.templates,q.value=e.total,Y.value=Math.ceil(q.value/X.value)};o((()=>{P()}));const Q=a=>{U.value=a,P()},R=()=>{U.value<=1||(U.value=U.value-1,P())},W=()=>{U.value=1,P()},aa=()=>{U.value=Y.value,P()},ea=()=>{U.value>=Y.value||(U.value=U.value+1,P())};return(l,t)=>{const s=a,n=e,o=j,h=C,A=w,S=I,X=x;return u(),c("div",M,[i(s),r("div",T,[r("div",V,[i(n,{placeholder:"请输入关键标签"})]),r("div",z,[r("button",{class:d(["btn btn-sm m-r-10",[p(k)?"btn-accent":"btn-secondary"]]),onClick:t[0]||(t[0]=()=>k.value=!0)}," 模糊 ",2),r("button",{class:d(["btn btn-sm",[p(k)?"btn-secondary":"btn-accent"]]),onClick:t[1]||(t[1]=()=>k.value=!1)}," 原图 ",2)]),i(S,{class:"list-con",gutter:20},{default:v((()=>[(u(!0),c(b,null,m(p(G),((a,e)=>(u(),g(A,{key:e,xs:24,sm:12,md:6,lg:4,xl:4},{default:v((()=>[i(h,null,{default:v((()=>{var e;return[a?(u(),c("div",F,[r("figure",null,[i(o,{class:d(["image",{"image-blur":!!p(k)}]),src:null==a?void 0:a.minify_preview,loading:"lazy"},null,8,["src","class"])]),r("div",Z,[r("h2",$,f((null==(e=null==a?void 0:a.name)?void 0:e.length)>20?(null==a?void 0:a.name.slice(0,20))+"...":null==a?void 0:a.name),1),r("p",null,f(null==a?void 0:a.author),1),r("div",B,[r("button",{class:"btn btn-primary btn-sm",onClick:e=>(a=>{L.value={...a},E.value=!0})(a)}," 模板详情 ",8,D)])])])):_("",!0)]})),_:2},1024)])),_:2},1024)))),128))])),_:1}),r("div",H,[p(Y)&&p(Y)>0?(u(),c("div",J,[r("button",{class:"btn btn-outline",onClick:W},"首页"),r("button",{class:"btn btn-outline",onClick:R},"上一页"),(u(!0),c(b,null,m(p(O),((a,e)=>(u(),c("button",{key:e,class:d(["btn",{"btn-active":a===p(U)}]),onClick:e=>Q(a)},f(a),11,K)))),128)),p(U)<p(Y)-3?(u(),c("button",N,"...")):_("",!0),r("button",{class:d(["btn",{"btn-active":p(Y)===p(U)}]),onClick:t[2]||(t[2]=a=>Q(p(Y)))},f(p(Y)),3),r("button",{class:"btn btn-outline",onClick:ea},"下一页"),r("button",{class:"btn btn-outline",onClick:aa},"尾页")])):_("",!0)])]),i(X,{modelValue:p(E),"onUpdate:modelValue":t[3]||(t[3]=a=>y(E)?E.value=a:null),"current-template":p(L)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-70fa3914"]]);export{S as default};
