import{_ as a}from"./AppHeader.3e760a59.js";import e from"./AppBanner.0d6be24a.js";import{I as l,a_ as t,r as s,o as n,x as u,J as o,K as c,a2 as i,_ as r,Z as v,u as p,a0 as d,Y as b,aC as m,X as _,a4 as f,C as g,$ as y,b4 as j,aZ as k}from"./entry.4f221c1e.js";import{_ as C}from"./AppAnimate.vue_vue_type_script_setup_true_lang.09dc1f9c.js";import h from"./TemplateDetail.2db2faac.js";import{u as x}from"./index.c09eb981.js";import{I as A,s as w,t as I}from"./element-plus.20817160.js";import"./shop.b77c0394.js";import"./plus.18186837.js";import"./vuedraggable.389c0f04.js";import"./lodash.ea4d81e6.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.192fbee9.js";/* empty css                                                                  */import"./copy-document.525e5e7f.js";const M={class:"template-page page"},T={class:"content"},V={class:"banner-con"},z={class:"control-blur-btns"},Z={key:0,class:"shadow-xl card card-compact bg-base-100"},B={class:"card-body"},D={class:"card-title"},F={class:"justify-end card-actions"},H=["onClick"],J={class:"demo-pagination-block"},K={key:0,class:"btn-group"},N=["onClick"],S={key:0,class:"btn"},U=k(l({__name:"nsfw",setup(l){t().vueApp.provide(A,{prefix:Math.floor(1e3*Math.random()),current:0});const k=s(!0),U=s(!1),X=s(1),Y=s(36),$=s(0),q=s(0),E=s(!1),G=s([]),L=s(null),O=n((()=>Array.from({length:$.value},((a,e)=>e)).slice(X.value>3?X.value-3:X.value,X.value+3))),P=async()=>{if(U.value)return;U.value=!0;const{TemplateApi:a}=x(),e=await a.getTemplatesNoval({pageIndex:X.value,pageSize:Y.value});U.value=!1,G.value=null==e?void 0:e.templates,q.value=e.total,$.value=Math.ceil(q.value/Y.value)};u((()=>{P()}));const Q=a=>{X.value=a,P()},R=()=>{X.value<=1||(X.value=X.value-1,P())},W=()=>{X.value=1,P()},aa=()=>{X.value=$.value,P()},ea=()=>{X.value>=$.value||(X.value=X.value+1,P())};return(l,t)=>{const s=a,n=e,u=j,x=C,A=w,U=I,Y=h;return o(),c("div",M,[i(s),r("div",T,[r("div",V,[i(n,{placeholder:"请输入关键标签"})]),r("div",z,[r("button",{class:v(["btn btn-sm m-r-10",[p(k)?"btn-accent":"btn-secondary"]]),onClick:t[0]||(t[0]=()=>k.value=!0)}," 模糊 ",2),r("button",{class:v(["btn btn-sm",[p(k)?"btn-secondary":"btn-accent"]]),onClick:t[1]||(t[1]=()=>k.value=!1)}," 原图 ",2)]),i(U,{class:"list-con",gutter:20},{default:d((()=>[(o(!0),c(b,null,m(p(G),((a,e)=>(o(),y(A,{key:e,xs:24,sm:12,md:6,lg:4,xl:4},{default:d((()=>[i(x,null,{default:d((()=>{var e;return[a?(o(),c("div",Z,[r("figure",null,[i(u,{class:v(["image",{"image-blur":!!p(k)}]),src:null==a?void 0:a.minify_preview,loading:"lazy"},null,8,["src","class"])]),r("div",B,[r("h2",D,f((null==(e=null==a?void 0:a.name)?void 0:e.length)>20?(null==a?void 0:a.name.slice(0,20))+"...":null==a?void 0:a.name),1),r("p",null,f(null==a?void 0:a.author),1),r("div",F,[r("button",{class:"btn btn-primary btn-sm",onClick:e=>(a=>{L.value={...a},E.value=!0})(a)}," 模板详情 ",8,H)])])])):_("",!0)]})),_:2},1024)])),_:2},1024)))),128))])),_:1}),r("div",J,[p($)&&p($)>0?(o(),c("div",K,[r("button",{class:"btn btn-outline",onClick:W},"首页"),r("button",{class:"btn btn-outline",onClick:R},"上一页"),(o(!0),c(b,null,m(p(O),((a,e)=>(o(),c("button",{key:e,class:v(["btn",{"btn-active":a===p(X)}]),onClick:e=>Q(a)},f(a),11,N)))),128)),p(X)<p($)-3?(o(),c("button",S,"...")):_("",!0),r("button",{class:v(["btn",{"btn-active":p($)===p(X)}]),onClick:t[2]||(t[2]=a=>Q(p($)))},f(p($)),3),r("button",{class:"btn btn-outline",onClick:ea},"下一页"),r("button",{class:"btn btn-outline",onClick:aa},"尾页")])):_("",!0)])]),i(Y,{modelValue:p(E),"onUpdate:modelValue":t[3]||(t[3]=a=>g(E)?E.value=a:null),"current-template":p(L)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-70fa3914"]]);export{U as default};
