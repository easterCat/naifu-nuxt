import s from"./AppHeader.72be329c.js";import{_ as e}from"./AppHeader.vue_vue_type_style_index_0_scoped_2a3485e7_lang.1dee27ff.js";import a from"./TemplateDetail.606dfedb.js";import t from"./client-only.36cb5329.js";import{u as l,a as i}from"./index.131f7cc9.js";import{a as d}from"./shop.d3010ead.js";import{e as c,a as o,f as n,G as r,N as p,L as u,aa as v,Z as _,J as m,W as b,u as f,H as y,a0 as j,a2 as g,$ as x,a1 as h,i as I,a4 as A,a5 as k,a6 as w}from"./element-plus.fe53e503.js";import{_ as C}from"./sYw7uX71Xe.38399cea.js";import{d as T}from"./dayjs.3bf4ac2a.js";import{_ as Y}from"./entry.0f1f4d34.js";import"./ShopLayer.4b6bca95.js";import"./AnimationButton.accfedd7.js";import"./lodash.cb875ed5.js";import"./pinia.17670579.js";import"./store.e5acb8cd.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.c1c03cdc.js";import"./plus.c0ce5731.js";import"./close-bold.ada4cf83.js";import"./vuedraggable.03145536.js";import"./sortablejs.91a11583.js";import"./uuid.d56aad75.js";import"./vue3-clipboard-es.62b9b053.js";import"./AppHeader.vue_vue_type_style_index_0_scoped_e57bc06e_lang.5cf572d0.js";/* empty css                                                              *//* empty css                                                                  *//* empty css                                                                       *//* empty css                                                                  *//* empty css                                                                  */import"./Icon.b50eae24.js";import"./LinkList.vue_vue_type_style_index_0_scoped_ca6c464e_lang.c2f4371d.js";/* empty css                                                                */import"./04.e372062b.js";import"./copy-document.12769081.js";const B=s=>(k("data-v-36456e1e"),s=s(),w(),s),D={class:"profile-page page"},H={class:"content"},L=B((()=>_("div",{class:"banner-con"},[_("div",{class:"banner-image"},[_("img",{src:C,alt:""})])],-1))),U={class:"profile-con"},F=B((()=>_("div",{class:"avatar-con"},[_("div",{class:"avatar"},[_("div",{class:"w-32 rounded-full"},[_("img",{src:"https://placeimg.com/192/192/people"})])])],-1))),M={class:"info-con"},S=B((()=>_("div",{class:"left"},[_("div",{class:"shadow stats"},[_("div",{class:"stat place-items-center"},[_("div",{class:"stat-title"},"关注"),_("div",{class:"stat-value"},"999"),_("div",{class:"stat-desc"},"截止 2023年1月13日")]),_("div",{class:"stat place-items-center"},[_("div",{class:"stat-title"},"追随"),_("div",{class:"stat-value text-secondary"},"4,200"),_("div",{class:"stat-desc text-secondary"},"截止 2023年1月13日")])])],-1))),V={class:"center"},E={class:"shadow stats"},X={class:"stat place-items-center"},z=B((()=>_("div",{class:"stat-title"},"昵称",-1))),G={class:"stat-value"},J={class:"right"},N={class:"shadow stats"},R={class:"stat place-items-center"},W=B((()=>_("div",{class:"stat-title"},"用户等级",-1))),Z={class:"stat-value"},$={class:"stat place-items-center"},q=B((()=>_("div",{class:"stat-title"},"加入天数",-1))),K={class:"stat-value text-secondary"},O=B((()=>_("div",{class:"stat-desc text-secondary"},"截止 2023年1月13日",-1))),P=B((()=>_("div",{class:"tabs-con"},[_("div",{class:"tabs"},[_("a",{class:"tab tab-lg tab-bordered tab-active m-r-10"},"收藏模版"),_("a",{class:"tab tab-lg tab-bordered"},"个人模版")])],-1))),Q={class:"collect-con"},ss={class:"shadow-xl card card-compact bg-base-100 m-b-20"},es={class:"card-body"},as={class:"card-title"},ts={class:"justify-end card-actions"},ls=["onClick"],is=["onClick"],ds=["onClick"],cs=Y(c({__name:"index",setup(c){const{AuthApi:k,TemplateApi:w}=l(),{setShop:C}=d();let Y=null;const B=o(!1),cs=o(null),os=()=>{if(!(null==Y?void 0:Y.roleId))return"";return{1:"管理员",2:"开发者",3:"贡献者",4:"游客"}[null==Y?void 0:Y.roleId]};return n((()=>{Y=i(),(async()=>{const s=await k.getUserInfo(),{data:e}=s;Y.setUserInfo(null==e?void 0:e.user)})()})),(l,i)=>{const d=s,c=e,o=A.ElCol,n=A.ElRow,k=a,ns=t,rs=v("animate-css");return r(),p(ns,null,{default:u((()=>{var s,e;return[_("div",D,[m(d),_("div",H,[L,_("div",U,[F,_("div",M,[S,_("div",V,[_("div",E,[_("div",X,[z,_("div",G,b(null==(s=f(Y))?void 0:s.nickname),1)])])]),_("div",J,[_("div",N,[_("div",R,[W,_("div",Z,b(os()),1)]),_("div",$,[q,_("div",K,b(T(T().format("YYYY-MM-DD")).diff(null==Y?void 0:Y.userInfo.create_time,"day")),1),O])])])])]),P,_("div",Q,[(null==(e=f(Y))?void 0:e.favorites)?(r(),p(n,{key:0,class:"list-con",gutter:20},{default:u((()=>{var s;return[(r(!0),y(x,null,j(null==(s=f(Y))?void 0:s.favorites,((s,e)=>g((r(),p(o,{key:e,xs:24,sm:12,md:6,lg:4,xl:4},{default:u((()=>[_("div",ss,[_("figure",null,[m(c,{class:"image",src:(null==s?void 0:s.min_imgbb_url)?null==s?void 0:s.min_imgbb_url:null==s?void 0:s.minify_preview,loading:"lazy"},null,8,["src"])]),_("div",es,[_("h2",as,b(null==s?void 0:s.name),1),_("p",null,b(null==s?void 0:s.author),1),_("div",ts,[_("button",{class:"btn btn-sm btn-secondary",onClick:e=>(async s=>{const e=await w.likeTemplateById({templateId:s,userId:null==Y?void 0:Y.userId});200===(null==e?void 0:e.code)&&Y.removeFavoriteById(s)})(null==s?void 0:s.id)}," 移除 ",8,ls),_("button",{class:"btn btn-accent btn-sm",onClick:e=>(s=>{cs.value={...s},B.value=!0})(s)}," 详情 ",8,is),_("button",{class:"btn btn-primary btn-sm",onClick:e=>(s=>{C(null==s?void 0:s.prompt)})(s)}," 购物车 ",8,ds)])])])])),_:2},1024)),[[rs,{direction:"modifySlideInUp",delay:50*e}]]))),128))]})),_:1})):h("",!0)])]),m(k,{modelValue:f(B),"onUpdate:modelValue":i[0]||(i[0]=s=>I(B)?B.value=s:null),"current-template":f(cs)},null,8,["modelValue","current-template"])])]})),_:1})}}}),[["__scopeId","data-v-36456e1e"]]);export{cs as default};
