import{_ as e}from"./AppHeader.c1cb1f85.js";import a from"./AppBanner.e6e26112.js";import{I as l,a$ as t,r as s,o as n,x as u,J as o,K as c,a2 as i,a0 as r,_ as p,Z as v,u as d,Y as b,aC as m,$ as _,a4 as f,X as y,C as g,b5 as j,aZ as k}from"./entry.867af431.js";import{_ as C}from"./AppAnimate.vue_vue_type_script_setup_true_lang.cfb15b5e.js";import x from"./TemplateDetail.c8cdb028.js";import{u as h}from"./index.ab114e08.js";import{I as A,s as w,t as I}from"./element-plus.bb8e70a3.js";import"./shop.e35e1083.js";import"./plus.4333bf2a.js";import"./vuedraggable.888f871d.js";import"./lodash.ea4d81e6.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.4fd931d8.js";/* empty css                                                                  *//* empty css                                                                  */import"./copy-document.961de030.js";const M={class:"template-page page"},T={class:"content"},V={class:"banner-con"},z={class:"control-blur-btns"},F={key:0,class:"shadow-xl card card-compact bg-base-100"},Z={class:"card-body"},$={class:"card-title"},B={class:"justify-end card-actions"},D=["onClick"],H={class:"demo-pagination-block"},J={key:0,class:"btn-group"},K=["onClick"],N={key:0,class:"btn"},S=k(l({__name:"nsfw",setup(l){t().vueApp.provide(A,{prefix:Math.floor(1e3*Math.random()),current:0});const k=s(!0),S=s(!1),U=s(1),X=s(36),Y=s(0),q=s(0),E=s(!1),G=s([]),L=s(null),O=n((()=>Array.from({length:Y.value},((e,a)=>a)).slice(U.value>3?U.value-3:U.value,U.value+3))),P=async()=>{if(S.value)return;S.value=!0;const{TemplateApi:e}=h(),a=await e.getTemplatesNoval({pageIndex:U.value,pageSize:X.value});S.value=!1,G.value=null==a?void 0:a.templates,q.value=a.total,Y.value=Math.ceil(q.value/X.value)};u((()=>{P()}));const Q=e=>{U.value=e,P()},R=()=>{U.value<=1||(U.value=U.value-1,P())},W=()=>{U.value=1,P()},ee=()=>{U.value=Y.value,P()},ae=()=>{U.value>=Y.value||(U.value=U.value+1,P())};return(l,t)=>{const s=e,n=a,u=j,h=C,A=w,S=I,X=x;return o(),c("div",M,[i(s),i(h,null,{default:r((()=>[p("div",T,[p("div",V,[i(n,{placeholder:"请输入关键标签"})]),p("div",z,[p("button",{class:v(["btn btn-sm m-r-10",[d(k)?"btn-accent":"btn-secondary"]]),onClick:t[0]||(t[0]=()=>k.value=!0)}," 模糊 ",2),p("button",{class:v(["btn btn-sm",[d(k)?"btn-secondary":"btn-accent"]]),onClick:t[1]||(t[1]=()=>k.value=!1)}," 原图 ",2)]),i(S,{class:"list-con",gutter:20},{default:r((()=>[(o(!0),c(b,null,m(d(G),((e,a)=>(o(),_(A,{key:a,xs:24,sm:12,md:6,lg:4,xl:4},{default:r((()=>[i(h,null,{default:r((()=>{var a;return[e?(o(),c("div",F,[p("figure",null,[i(u,{class:v(["image",{"image-blur":!!d(k)}]),src:null==e?void 0:e.minify_preview,loading:"lazy"},null,8,["src","class"])]),p("div",Z,[p("h2",$,f((null==(a=null==e?void 0:e.name)?void 0:a.length)>20?(null==e?void 0:e.name.slice(0,20))+"...":null==e?void 0:e.name),1),p("p",null,f(null==e?void 0:e.author),1),p("div",B,[p("button",{class:"btn btn-primary btn-sm",onClick:a=>(e=>{L.value={...e},E.value=!0})(e)}," 模板详情 ",8,D)])])])):y("",!0)]})),_:2},1024)])),_:2},1024)))),128))])),_:1}),p("div",H,[d(Y)&&d(Y)>0?(o(),c("div",J,[p("button",{class:"btn btn-outline",onClick:W},"首页"),p("button",{class:"btn btn-outline",onClick:R},"上一页"),(o(!0),c(b,null,m(d(O),((e,a)=>(o(),c("button",{key:a,class:v(["btn",{"btn-active":e===d(U)}]),onClick:a=>Q(e)},f(e),11,K)))),128)),d(U)<d(Y)-3?(o(),c("button",N,"...")):y("",!0),p("button",{class:v(["btn",{"btn-active":d(Y)===d(U)}]),onClick:t[2]||(t[2]=e=>Q(d(Y)))},f(d(Y)),3),p("button",{class:"btn btn-outline",onClick:ae},"下一页"),p("button",{class:"btn btn-outline",onClick:ee},"尾页")])):y("",!0)])]),i(X,{modelValue:d(E),"onUpdate:modelValue":t[3]||(t[3]=e=>g(E)?E.value=e:null),"current-template":d(L)},null,8,["modelValue","current-template"])])),_:1})])}}}),[["__scopeId","data-v-1468f322"]]);export{S as default};
