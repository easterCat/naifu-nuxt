import{_ as a,b as e}from"./AppHeader.a98b11ad.js";import{_ as l}from"./FixMenu.vue_vue_type_style_index_0_scoped_c1cb519f_lang.c5d3af51.js";import t from"./AppBanner.faab1ef2.js";import s from"./TemplateDetail.14d1b069.js";import{u as n}from"./pinia.7ac5f2a7.js";import{e as o,ac as u,a as c,d as i,f as r,F as d,G as p,H as v,I as b,W as m,u as f,Y as _,Z as y,_ as g,X as j,U as k,ae as x,i as h,$ as C,a9 as w,a4 as A,L as I}from"./element-plus.3e7898c2.js";import{u as M}from"./index.c0d6e22f.js";import{_ as T}from"./entry.cf5e7fb4.js";import"./plus.bb77e419.js";import"./shop.8f25176c.js";import"./vuedraggable.5801950c.js";import"./dayjs.3bf4ac2a.js";import"./sortablejs.c8011fea.js";import"./uuid.d56aad75.js";import"./lodash.93025024.js";/* empty css                                                                  *//* empty css                                                                  */import"./Icon.c7cf7b12.js";import"./store.e5acb8cd.js";import"./sYw7uX71Xe.38399cea.js";const U={class:"template-page page"},F={class:"content"},S={class:"banner-con"},V={class:"control-blur-btns"},X={key:0,class:"shadow-xl card card-compact bg-base-100"},z={class:"card-body"},E={class:"card-title"},H={class:"justify-end card-actions"},K=["onClick"],N={class:"demo-pagination-block"},Y={key:0,class:"btn-group"},B=["onClick"],D={key:0,class:"btn"},G=["value","onKeyup"],L=T(o({__name:"nsfw",setup(o){n().vueApp.provide(u,{prefix:Math.floor(1e3*Math.random()),current:0});const T=c(!0),L=c(!1),R=c(1),W=c(36),Z=c(0),$=c(0),q=c(!1),J=c([]),O=c(null),P=i((()=>Array.from({length:Z.value},((a,e)=>e)).slice(R.value>3?R.value-3:R.value,R.value+3))),Q=async()=>{if(L.value)return;L.value=!0;const{TemplateApi:a}=M(),e=await a.getTemplatesNoval({pageIndex:R.value,pageSize:W.value});L.value=!1,J.value=null==e?void 0:e.templates,$.value=e.total,Z.value=Math.ceil($.value/W.value)};r((()=>{Q()}));const aa=a=>{ea(Number(a.target.value))},ea=a=>{R.value=a,Q()},la=()=>{R.value<=1||(R.value=R.value-1,Q())},ta=()=>{R.value=1,Q()},sa=()=>{R.value=Z.value,Q()},na=()=>{R.value>=Z.value||(R.value=R.value+1,Q())};return(n,o)=>{const u=a,c=l,i=t,r=e,M=C.ElCol,L=C.ElRow,W=s,$=w("animate-css");return d(),p("div",U,[v(c,null,{default:b((()=>[v(u)])),_:1}),m("div",F,[m("div",S,[v(i,{placeholder:"请输入关键标签"})]),v(c,null,{default:b((()=>[A((d(),p("div",V,[m("button",{class:j(["btn btn-sm m-r-10",[f(T)?"btn-accent":"btn-secondary-30"]]),onClick:o[0]||(o[0]=()=>T.value=!0)}," 模糊 ",2),m("button",{class:j(["btn btn-sm",[f(T)?"btn-secondary-30":"btn-accent"]]),onClick:o[1]||(o[1]=()=>T.value=!1)}," 原图 ",2)])),[[$,{direction:"modifySlideInUp"}]])])),_:1}),v(L,{class:"list-con",gutter:20},{default:b((()=>[v(c,null,{default:b((()=>[(d(!0),p(_,null,y(f(J),((a,e)=>A((d(),I(M,{key:e,xs:24,sm:12,md:6,lg:4,xl:4},{default:b((()=>{var e;return[a?(d(),p("div",X,[m("figure",null,[v(r,{class:j(["image",{"image-blur":!!f(T)}]),src:null==a?void 0:a.minify_preview,loading:"lazy"},null,8,["src","class"])]),m("div",z,[m("h2",E,k((null==(e=null==a?void 0:a.name)?void 0:e.length)>20?(null==a?void 0:a.name.slice(0,20))+"...":null==a?void 0:a.name),1),m("p",null,k(null==a?void 0:a.author),1),m("div",H,[m("button",{class:"btn btn-accent btn-sm",onClick:e=>(a=>{O.value={...a},q.value=!0})(a)}," 模板详情 ",8,K)])])])):g("",!0)]})),_:2},1024)),[[$,{direction:"modifySlideInUp",delay:30*e}]]))),128))])),_:1})])),_:1}),m("div",N,[f(Z)&&f(Z)>0?(d(),p("div",Y,[m("button",{class:"btn btn-outline",onClick:ta},"首页"),m("button",{class:"btn btn-outline",onClick:la},"上一页"),(d(!0),p(_,null,y(f(P),((a,e)=>(d(),p("button",{key:e,class:j(["btn",{"btn-active":a===f(R)}]),onClick:e=>ea(a)},k(a),11,B)))),128)),f(R)<f(Z)-3?(d(),p("button",D,"...")):g("",!0),m("button",{class:j(["btn",{"btn-active":f(Z)===f(R)}]),onClick:o[2]||(o[2]=a=>ea(f(Z)))},k(f(Z)),3),m("button",{class:"btn btn-outline",onClick:na},"下一页"),m("button",{class:"btn btn-outline",onClick:sa},"尾页"),m("input",{value:f(R),type:"text",placeholder:"go",class:"w-24 max-w-xs input input-bordered",onKeyup:x(aa,["enter"])},null,40,G)])):g("",!0)])]),v(W,{modelValue:f(q),"onUpdate:modelValue":o[3]||(o[3]=a=>h(q)?q.value=a:null),"current-template":f(O)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-97b06945"]]);export{L as default};
