import e from"./AppHeader.e00bc2a3.js";import{_ as s}from"./AppHeader.vue_vue_type_style_index_0_scoped_2a3485e7_lang.5db35127.js";import a from"./TemplateDetail.219994eb.js";import t from"./client-only.36cb5329.js";import{u as l,a as i}from"./index.131f7cc9.js";import{a as c}from"./shop.d3010ead.js";import{e as d,a as o,f as n,G as r,N as p,L as u,aa as v,Z as m,J as _,W as b,u as f,H as y,a0 as j,a2 as g,$ as x,a1 as h,i as I,a4 as A,a5 as k,a6 as w}from"./element-plus.fe53e503.js";import{_ as C}from"./sYw7uX71Xe.38399cea.js";import{d as T}from"./dayjs.3bf4ac2a.js";import{_ as Y}from"./entry.d71b1392.js";import"./ShopLayer.94388788.js";import"./AnimationButton.b724bb94.js";import"./lodash.cb875ed5.js";import"./pinia.17670579.js";import"./store.e5acb8cd.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.c1c03cdc.js";import"./plus.c0ce5731.js";import"./close-bold.ada4cf83.js";import"./vuedraggable.03145536.js";import"./sortablejs.91a11583.js";import"./uuid.d56aad75.js";import"./vue3-clipboard-es.62b9b053.js";import"./AppHeader.vue_vue_type_style_index_0_scoped_e57bc06e_lang.35e4e247.js";/* empty css                                                              *//* empty css                                                                  *//* empty css                                                                       *//* empty css                                                                  *//* empty css                                                                  */import"./Icon.fa57f76f.js";import"./LinkList.vue_vue_type_style_index_0_scoped_ca6c464e_lang.c2f4371d.js";/* empty css                                                                */import"./04.e372062b.js";import"./copy-document.12769081.js";const B=e=>(k("data-v-39774c09"),e=e(),w(),e),D={class:"profile-page page"},H={class:"content"},L=B((()=>m("div",{class:"banner-con"},[m("div",{class:"banner-image"},[m("img",{src:C,alt:""})])],-1))),M={class:"profile-con"},U=B((()=>m("div",{class:"avatar-con"},[m("div",{class:"avatar"},[m("div",{class:"w-32 rounded-full"},[m("img",{src:"https://placeimg.com/192/192/people"})])])],-1))),F={class:"info-con"},S=B((()=>m("div",{class:"left"},[m("div",{class:"shadow stats"},[m("div",{class:"stat place-items-center"},[m("div",{class:"stat-title"},"关注"),m("div",{class:"stat-value"},"999"),m("div",{class:"stat-desc"},"截止 2023年1月13日")]),m("div",{class:"stat place-items-center"},[m("div",{class:"stat-title"},"追随"),m("div",{class:"stat-value text-secondary"},"4,200"),m("div",{class:"stat-desc text-secondary"},"截止 2023年1月13日")])])],-1))),V={class:"center"},E={class:"shadow stats"},X={class:"stat place-items-center"},$=B((()=>m("div",{class:"stat-title"},"昵称",-1))),q={class:"stat-value"},z={class:"right"},G={class:"shadow stats"},J={class:"stat place-items-center"},N=B((()=>m("div",{class:"stat-title"},"用户等级",-1))),R={class:"stat-value"},W={class:"stat place-items-center"},Z=B((()=>m("div",{class:"stat-title"},"加入天数",-1))),K={class:"stat-value text-secondary"},O=B((()=>m("div",{class:"stat-desc text-secondary"},"截止 2023年1月13日",-1))),P=B((()=>m("div",{class:"tabs-con"},[m("div",{class:"tabs"},[m("a",{class:"tab tab-lg tab-bordered tab-active m-r-10"},"收藏模版"),m("a",{class:"tab tab-lg tab-bordered"},"个人模版")])],-1))),Q={class:"collect-con"},ee={class:"shadow-xl card card-compact bg-base-100 m-b-20"},se={class:"card-body"},ae={class:"card-title"},te={class:"justify-end card-actions"},le=["onClick"],ie=["onClick"],ce=["onClick"],de=Y(d({__name:"index",setup(d){const{AuthApi:k,TemplateApi:w}=l(),{setShop:C}=c();let Y=null;const B=o(!1),de=o(null),oe=()=>{if(!(null==Y?void 0:Y.roleId))return"";return{1:"管理员",2:"开发者",3:"贡献者",4:"游客"}[null==Y?void 0:Y.roleId]};return n((()=>{Y=i(),(async()=>{const e=await k.getUserInfo(),{data:s}=e;Y.setUserInfo(null==s?void 0:s.user)})()})),(l,i)=>{const c=e,d=s,o=A.ElCol,n=A.ElRow,k=a,ne=t,re=v("animate-css");return r(),p(ne,null,{default:u((()=>{var e,s;return[m("div",D,[_(c),m("div",H,[L,m("div",M,[U,m("div",F,[S,m("div",V,[m("div",E,[m("div",X,[$,m("div",q,b(null==(e=f(Y))?void 0:e.nickname),1)])])]),m("div",z,[m("div",G,[m("div",J,[N,m("div",R,b(oe()),1)]),m("div",W,[Z,m("div",K,b(T(T().format("YYYY-MM-DD")).diff(null==Y?void 0:Y.userInfo.create_time,"day")),1),O])])])])]),P,m("div",Q,[(null==(s=f(Y))?void 0:s.favorites)?(r(),p(n,{key:0,class:"list-con",gutter:20},{default:u((()=>{var e;return[(r(!0),y(x,null,j(null==(e=f(Y))?void 0:e.favorites,((e,s)=>g((r(),p(o,{key:s,xs:24,sm:12,md:6,lg:4,xl:4},{default:u((()=>[m("div",ee,[m("figure",null,[_(d,{class:"image",src:(null==e?void 0:e.min_imgbb_url)?null==e?void 0:e.min_imgbb_url:null==e?void 0:e.minify_preview,loading:"lazy"},null,8,["src"])]),m("div",se,[m("h2",ae,b(null==e?void 0:e.name),1),m("p",null,b(null==e?void 0:e.author),1),m("div",te,[m("button",{class:"btn btn-sm btn-secondary",onClick:s=>(async e=>{const s=await w.likeTemplateById({templateId:e,userId:null==Y?void 0:Y.userId});200===(null==s?void 0:s.code)&&Y.removeFavoriteById(e)})(null==e?void 0:e.id)}," 移除 ",8,le),m("button",{class:"btn btn-accent btn-sm",onClick:s=>(e=>{de.value={...e},B.value=!0})(e)}," 详情 ",8,ie),m("button",{class:"btn btn-primary btn-sm",onClick:s=>(e=>{var s;(null==e?void 0:e.prompt.includes("masterpiece"))||(null==e?void 0:e.prompt.includes("Masterpiece"))?C(null==e?void 0:e.prompt):C(`masterpiece, best quality, ${s=null==e?void 0:e.prompt,s.replace(/\s+/g,", ").replace(/\s*(，+|,+)\s*/g,", ")}`)})(e)}," 购物车 ",8,ce)])])])])),_:2},1024)),[[re,{direction:"modifySlideInUp",delay:50*s}]]))),128))]})),_:1})):h("",!0)])]),_(k,{modelValue:f(B),"onUpdate:modelValue":i[0]||(i[0]=e=>I(B)?B.value=e:null),"current-template":f(de)},null,8,["modelValue","current-template"])])]})),_:1})}}}),[["__scopeId","data-v-39774c09"]]);export{de as default};
