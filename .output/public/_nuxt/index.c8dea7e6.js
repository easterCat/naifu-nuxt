import{_ as a}from"./AppHeader.844a27fd.js";import e from"./AppBanner.df70a4c4.js";import{I as l,a_ as t,r as s,o as n,x as o,J as u,K as c,a2 as r,_ as i,Z as d,u as p,a0 as v,Y as b,aC as m,X as _,a4 as f,C as g,$ as y,b4 as j,aZ as k}from"./entry.f0c30f1b.js";import{_ as C}from"./AppAnimate.vue_vue_type_script_setup_true_lang.52dd1724.js";import x from"./TemplateDetail.07b27d74.js";import{u as h}from"./index.251a9acf.js";import{I as A,s as I,t as M}from"./element-plus.51c032f9.js";import"./shop.59954df9.js";import"./plus.9e9d4eb4.js";import"./vuedraggable.b030dad4.js";import"./lodash.ea4d81e6.js";import"./sortablejs.8210fcbe.js";import"./FixMenu.vue_vue_type_style_index_0_scoped_5afae692_lang.46760c02.js";/* empty css                                                                  */import"./copy-document.19ec97ae.js";const T={class:"template-page page"},w={class:"content"},V={class:"banner-con"},z={class:"control-blur-btns"},Z={key:0,class:"shadow-xl card card-compact bg-base-100"},B={class:"card-body"},D={class:"card-title"},F={class:"justify-end card-actions"},H=["onClick"],J={class:"demo-pagination-block"},K={key:0,class:"btn-group"},S=["onClick"],U={key:0,class:"btn"},X=k(l({__name:"index",setup(l){t().vueApp.provide(A,{prefix:Math.floor(1e3*Math.random()),current:0});const k=s(!0),X=s(!1),Y=s(1),$=s(50),q=s(0),E=s(0),G=s(!1),L=s([]),N=s(null),O=n((()=>{const a=Array.from({length:q.value},((a,e)=>e)).slice(Y.value>3?Y.value-3:Y.value,Y.value+3);return console.log("arr :>> ",a),a})),P=async()=>{if(X.value)return;X.value=!0;const{TemplateApi:a}=h(),e=await a.getTemplates({pageIndex:Y.value,pageSize:$.value});X.value=!1,L.value=null==e?void 0:e.templates,E.value=e.total,q.value=Math.ceil(E.value/$.value)};o((()=>{P()}));const Q=a=>{Y.value=a,P()},R=()=>{Y.value<=1||(Y.value=Y.value-1,P())},W=()=>{Y.value=1,P()},aa=()=>{Y.value=q.value,P()},ea=()=>{Y.value>=q.value||(Y.value=Y.value+1,P())};return(l,t)=>{const s=a,n=e,o=j,h=C,A=I,X=M,$=x;return u(),c("div",T,[r(s),i("div",w,[i("div",V,[r(n,{placeholder:"请输入关键标签"})]),i("div",z,[i("button",{class:d(["btn btn-sm m-r-10",[p(k)?"btn-accent":"btn-secondary"]]),onClick:t[0]||(t[0]=()=>k.value=!0)}," 模糊 ",2),i("button",{class:d(["btn btn-sm",[p(k)?"btn-secondary":"btn-accent"]]),onClick:t[1]||(t[1]=()=>k.value=!1)}," 原图 ",2)]),r(X,{class:"list-con",gutter:20},{default:v((()=>[(u(!0),c(b,null,m(p(L),((a,e)=>(u(),y(A,{key:e,xs:24,sm:12,md:6,lg:4,xl:4},{default:v((()=>[r(h,null,{default:v((()=>[a?(u(),c("div",Z,[i("figure",null,[r(o,{class:d(["image",{"image-blur":!!p(k)}]),src:null==a?void 0:a.minify_preview,loading:"lazy"},null,8,["src","class"])]),i("div",B,[i("h2",D,f(null==a?void 0:a.name),1),i("p",null,f(null==a?void 0:a.author),1),i("div",F,[i("button",{class:"btn btn-primary btn-sm",onClick:e=>(a=>{N.value={...a},G.value=!0})(a)}," 模板详情 ",8,H)])])])):_("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i("div",J,[p(q)&&p(q)>0?(u(),c("div",K,[i("button",{class:"btn btn-outline",onClick:W},"首页"),i("button",{class:"btn btn-outline",onClick:R},"上一页"),(u(!0),c(b,null,m(p(O),((a,e)=>(u(),c("button",{key:e,class:d(["btn",{"btn-active":a===p(Y)}]),onClick:e=>Q(a)},f(a),11,S)))),128)),p(Y)<p(q)-3?(u(),c("button",U,"...")):_("",!0),i("button",{class:d(["btn",{"btn-active":p(q)===p(Y)}]),onClick:t[2]||(t[2]=a=>Q(p(q)))},f(p(q)),3),i("button",{class:"btn btn-outline",onClick:ea},"下一页"),i("button",{class:"btn btn-outline",onClick:aa},"尾页")])):_("",!0)])]),r($,{modelValue:p(G),"onUpdate:modelValue":t[3]||(t[3]=a=>g(G)?G.value=a:null),"current-template":p(N)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-3c5562dd"]]);export{X as default};
