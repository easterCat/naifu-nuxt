import e from"./AppHeader.e00bc2a3.js";import a from"./client-only.36cb5329.js";import l from"./AppBanner.dbbafb79.js";import t from"./ImageFlur.100d1bb9.js";import{_ as s}from"./AppHeader.vue_vue_type_style_index_0_scoped_2a3485e7_lang.5db35127.js";import o from"./TemplateDetail.219994eb.js";import{u as n}from"./pinia.17670579.js";import{e as i,ad as u,a as p,f as r,d as c,G as d,H as _,J as m,L as v,Z as b,u as f,$ as g,a0 as y,a1 as j,Y as x,W as h,ae as k,i as A,aa as w,N as C,a2 as I,a4 as M}from"./element-plus.fe53e503.js";import{a as T}from"./shop.d3010ead.js";import{u as F}from"./index.131f7cc9.js";import{_ as H}from"./entry.d71b1392.js";import"./ShopLayer.94388788.js";import"./AnimationButton.b724bb94.js";import"./lodash.cb875ed5.js";import"./dayjs.3bf4ac2a.js";import"./store.e5acb8cd.js";import"./AppAnimate.vue_vue_type_script_setup_true_lang.c1c03cdc.js";import"./plus.c0ce5731.js";import"./close-bold.ada4cf83.js";import"./vuedraggable.03145536.js";import"./sortablejs.91a11583.js";import"./uuid.d56aad75.js";import"./vue3-clipboard-es.62b9b053.js";import"./AppHeader.vue_vue_type_style_index_0_scoped_e57bc06e_lang.35e4e247.js";/* empty css                                                              *//* empty css                                                                  *//* empty css                                                                       *//* empty css                                                                  *//* empty css                                                                  */import"./Icon.fa57f76f.js";import"./LinkList.vue_vue_type_style_index_0_scoped_ca6c464e_lang.c2f4371d.js";/* empty css                                                                */import"./04.e372062b.js";import"./sYw7uX71Xe.38399cea.js";import"./copy-document.12769081.js";const L={class:"template-page page"},S={class:"content"},B={class:"banner-con"},V={key:0,class:"shadow-xl card card-compact bg-base-100 glass"},z={class:"card-body"},D={class:"card-title"},E={class:"justify-end card-actions"},G=["onClick"],K=["onClick"],N={class:"demo-pagination-block"},U={key:0,class:"btn-group"},X=["onClick"],Y={key:0,class:"btn"},$=["value","onKeyup"],q=H(i({__name:"sfw",setup(i){n().vueApp.provide(u,{prefix:Math.floor(1e3*Math.random()),current:0});const{setShop:H}=T(),q=p(!1),J=p(1),R=p(36),W=p(0),Z=p(0),O=p(!1),P=p([]),Q=p(null),ee=p("high");r((()=>{te()}));const ae=c((()=>Array.from({length:W.value},((e,a)=>a)).slice(J.value>3?J.value-3:J.value,J.value+3))),le=e=>{ee.value=e},te=async()=>{if(q.value)return;q.value=!0;const{TemplateApi:e}=F(),a=await e.getTemplates({pageIndex:J.value,pageSize:R.value});q.value=!1,P.value=null==a?void 0:a.templates,Z.value=a.total,W.value=Math.ceil(Z.value/R.value)},se=e=>{J.value=e,te()},oe=()=>{J.value<=1||(J.value=J.value-1,te())},ne=()=>{J.value=1,te()},ie=()=>{J.value=W.value,te()},ue=e=>{se(Number(e.target.value))},pe=()=>{J.value>=W.value||(J.value=J.value+1,te())};return(n,i)=>{const u=e,p=a,r=l,c=t,T=s,F=M.ElCol,q=M.ElRow,R=o,Z=w("animate-css");return d(),_("div",L,[m(p,null,{default:v((()=>[m(u)])),_:1}),b("div",S,[b("div",B,[m(r,{placeholder:"请输入关键标签"})]),m(c,{onGetImageFlur:le}),m(p,null,{default:v((()=>[f(P)&&f(P).length?(d(),C(q,{key:0,class:"list-con",gutter:20},{default:v((()=>[(d(!0),_(g,null,y(f(P),((e,a)=>I((d(),C(F,{key:a,xs:24,sm:12,md:6,lg:4,xl:4},{default:v((()=>[e?(d(),_("div",V,[b("figure",null,[m(T,{class:x(["image",{"high-image-blur":"high"===f(ee),"low-image-blur":"low"===f(ee)}]),src:(null==e?void 0:e.min_imgbb_url)?null==e?void 0:e.min_imgbb_url:null==e?void 0:e.minify_preview,loading:"lazy"},null,8,["src","class"])]),b("div",z,[b("h2",D,h(null==e?void 0:e.name),1),b("p",null,h(null==e?void 0:e.author),1),b("div",E,[b("button",{class:"btn btn-accent btn-sm",onClick:a=>(e=>{Q.value={...e,preview:(null==e?void 0:e.imgbb_url)?null==e?void 0:e.imgbb_url:null==e?void 0:e.preview},O.value=!0})(e)}," 详情 ",8,G),b("button",{class:"btn btn-primary btn-sm",onClick:a=>(e=>{var a;(null==e?void 0:e.prompt.includes("masterpiece"))||(null==e?void 0:e.prompt.includes("Masterpiece"))?H(null==e?void 0:e.prompt):H(`masterpiece, best quality, ${a=null==e?void 0:e.prompt,a.replace(/\s+/g,", ").replace(/\s*(，+|,+)\s*/g,", ")}`)})(e)}," 购物车 ",8,K)])])])):j("",!0)])),_:2},1024)),[[Z,{direction:"modifySlideInUp",delay:30*a}]]))),128))])),_:1})):j("",!0)])),_:1}),b("div",N,[f(W)&&f(W)>0?(d(),_("div",U,[b("button",{class:"btn btn-outline",onClick:ne},"首页"),b("button",{class:"btn btn-outline",onClick:oe},"上一页"),(d(!0),_(g,null,y(f(ae),((e,a)=>(d(),_("button",{key:a,class:x(["btn",{"btn-active":e===f(J)}]),onClick:a=>se(e)},h(e),11,X)))),128)),f(J)<f(W)-3?(d(),_("button",Y,"...")):j("",!0),b("button",{class:x(["btn",{"btn-active":f(W)===f(J)}]),onClick:i[0]||(i[0]=e=>se(f(W)))},h(f(W)),3),b("button",{class:"btn btn-outline",onClick:pe},"下一页"),b("button",{class:"btn btn-outline",onClick:ie},"尾页"),b("input",{value:f(J),type:"text",placeholder:"go",class:"w-24 max-w-xs input input-bordered",onKeyup:k(ue,["enter"])},null,40,$)])):j("",!0)])]),m(R,{modelValue:f(O),"onUpdate:modelValue":i[1]||(i[1]=e=>A(O)?O.value=e:null),"current-template":f(Q)},null,8,["modelValue","current-template"])])}}}),[["__scopeId","data-v-80554709"]]);export{q as default};
